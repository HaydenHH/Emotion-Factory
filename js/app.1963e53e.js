(function(e){function t(t){for(var a,i,r=t[0],c=t[1],l=t[2],d=0,u=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&u.push(s[i][0]),s[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);h&&h(t);while(u.length)u.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},s={app:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var h=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0ff5":function(e,t,n){"use strict";var a=n("e65c"),s=n.n(a);s.a},1:function(e,t){},2:function(e,t){},"288f":function(e,t,n){"use strict";var a=n("b71a"),s=n.n(a);s.a},3:function(e,t){},4:function(e,t){},"41c6":function(e,t,n){e.exports=n.p+"img/face.3cb9ad61.png"},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],i=n("2877"),r={},c=Object(i["a"])(r,s,o,!1,null,null,null),l=c.exports,h=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{staticClass:"view p-0 m-0",attrs:{fluid:""}},[n("Title",{attrs:{msg:"Gallery"}}),n("b-row",{staticClass:"p-0 m-0",attrs:{fluid:""}},[n("b-col",{staticClass:"m-0 mb-3 main-nav ",attrs:{sm:"4"}},[n("ul",e._l(e.link,(function(t){return n("li",{key:t},[n("router-link",{attrs:{to:"/"+t}},[e._v(e._s(t))])],1)})),0)]),n("b-col",{staticClass:"p-0 m-0 view-container",attrs:{sm:"12"}},[n("router-view",{staticClass:"p-0 m-0"})],1)],1)],1)},u=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("PaperCanvas",{attrs:{showInput:"true",canvasID:"largeCanvas2",inputType:"range",way:e.drawMethod.drawGridWithRectAndText,"in-viewport-once":!0}}),n("b-container",{attrs:{fluid:"",id:"drawing5"}},[n("b-row",e._l(2,(function(t){return n("b-col",{key:"canvas"+t},[n("PaperCanvas",{attrs:{showInput:"true",canvasID:"largeCanvasGroup1"+t,inputType:"range",way:e.drawMethod.drawGridWithRectAndText,"in-viewport-once":!0}})],1)})),1)],1),n("b-container",{attrs:{fluid:"",id:"drawing5s"}},[n("b-row",e._l(6,(function(t){return n("b-col",{key:"canvas"+t},[n("PaperCanvas",{attrs:{showInput:"true",canvasID:"largeCanvasGroup1s"+t,inputType:"range",way:e.drawMethod.drawGridWithRectAndText,"in-viewport-once":!0}})],1)})),1)],1),n("PaperCanvas",{attrs:{showInput:"true",canvasID:"'largeCanvas6",inputType:"range",way:e.drawMethod.drawRectRotate,"in-viewport-once":!0}}),n("PaperCanvas",{attrs:{canvasID:"largeCanvas1",showInput:"true",inputType:"text",showInputHolder:"type to draw text",way:e.drawMethod.drawText,"in-viewport-once":!0}}),n("PaperCanvas",{attrs:{showInput:"true",canvasID:"largeCanvas3",inputType:"range",way:e.drawMethod.drawCurve,"in-viewport-once":!0}}),n("PaperCanvas",{attrs:{showInput:"true",canvasID:"largeCanvas5",inputType:"range",way:e.drawMethod.drawGridPattern,"in-viewport-once":!0}}),n("b-container",{attrs:{fluid:"",id:"drawing7"}},[n("b-row",e._l(3,(function(t){return n("b-col",{key:"canvas"+t},[n("PaperCanvas",{attrs:{showInput:"true",canvasID:"largeCanvasGroup2"+t,inputType:"range",way:e.drawMethod.drawGridPattern,"in-viewport-once":!0}})],1)})),1)],1)],1)},m=[],b=n("d225"),f=n("b0b4"),w=(n("7f7f"),n("ac6a"),n("5df3"),n("1c4c"),n("2222")),v=n.n(w),g=n("e7bb"),C=function(){return x()>0},y=function(e,t){var n,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!0===a?Array.isArray(e)?(n=Array.from(e),1===t.length&&(t[1]=t[0]),n[0]+=t[0],n[1]+=t[1]):(n=Object.assign({},e),n.x+=t.x,n.y+=t.y):Array.isArray(e)?(n=Array.from(e),1===t.length&&(t[1]=t[0]),n[0]-=t[0],n[1]-=t[1]):(n=Object.assign({},e),n.x-=t.x,n.y-=t.y),n},x=function(){return Math.random()>.5?1:-1};function M(e){return Math.floor(Math.random()*e)}function B(e,t){return Math.random()*(+t-+e)+ +e}function T(){//! 占时不需要了,已使用canvas直接导出png
}function E(){var e=new Path.RegularPolygon(project.view.bounds.bottomRight.subtract(20,20),3,5);e.fillColor="#C2D3D5",e.strokeWidth=1,e.rotate(180),e.onMouseEnter=function(t){t.event.toElement.style.cursor="pointer",e.fillColor.brightness-=.5},e.onMouseLeave=function(t){t.event.toElement.style.cursor="auto",e.fillColor.brightness+=.5},e.onClick=function(){T()}}var k={drawText:function(e,t){function n(e){return Math.floor(Math.random()*e)}null==t&&(t="END POINT"),paper.projects.forEach((function(t){t.name==e&&t.activate()})),project.clear();for(var a=[project.view.bounds.width,project.view.bounds.height],s=a[0],o=a[1],i=70,r=1.5,c=0;c<5;c++)for(var l=0;l<Math.floor(s/i/2/1.5);l++){var h=new Group,d=new PointText(new Point(50,50));d.style={fontSize:50*Math.random()+50,fontFamily:"Sans-serif",fillColor:"black"},d.content="".concat(t[Math.floor(Math.random()*t.length)]);var u=new Path.Circle(d.bounds.topLeft,i);u.style={fillColor:"red"},u.fillColor.saturation-=Math.random(),h.addChild(u),h.addChild(d);project.activeLayer.children,h.previousSibling;h.position.x=l*i*2*r+100,h.position.y=c*i*2*r+100}var p=project.activeLayer.children[n(project.activeLayer.children.length)];p.fillColor="#4E0001",project.activeLayer.children.forEach((function(e){e.rotation=180*Math.atan2(p.bounds.center.y-e.position.y,p.bounds.center.x-e.position.x)/Math.PI})),project.activeLayer.bounds.center.x=s/2,project.activeLayer.bounds.center.y=o/2,E()},drawGridWithRectAndText:function(e,t){null==t&&(t=.5),paper.projects.forEach((function(t){t.name==e&&t.activate()})),project.clear();var n=[project.view.bounds.width,project.view.bounds.height],a=n[0],s=n[1],o=new Group,i=0,r=w["Color"].random();do{var c=0,l=new Group,h=B(100,a/2);do{var d=void 0;d=Math.random()<t/50?B(5,Math.random()*s/10):h;var u=Path.Rectangle([0,0],[h,d]);u.style={fillColor:r},u.fillColor.saturation+=Math.random()*x(),u.fillColor.brightness+=Math.random()*x(),u.fillColor.brightness<.3&&(u.fillColor.brightness=.6),u.fillColor.brightness>.8&&(u.fillColor.brightness=.7);var p=u.previousSibling;0!==c&&(u.bounds.top=p.bounds.bottom),l.addChild(u),c+=d}while(c<s);var m=l.previousSibling;0!==i&&(l.bounds.left=m.bounds.right),i+=h,o.addChild(l)}while(i<a);o.children.forEach((function(e){e.lastChild.bounds.height=project.activeLayer.bounds.bottom-e.lastChild.bounds.top})),o.bounds.width=.85*a,o.bounds.height=.85*s,o.bounds.center.x=a/2,o.bounds.center.y=s/2;for(var b=0;b<10;b++){var f=o.children[M(o.children.length)],v=f.children[M(f.children.length)],g=v.bounds;switch(M(7)){case 1:var C=Math.min(g.width,g.height)/2,T=new Path.Circle(v.bounds.center,C-10);T.fillColor=v.fillColor?v.fillColor:w["Color"].random(),T.fillColor.hue+=180;break;case 2:if(g.height<100)return;for(var k=5,I=k/3,S=5,P=new Group,D=45*x(),j=0;j<S;j++)for(var O=[g.height-I*S]/S,N=0;N<S;N++){var A=[g.width-k*S]/S,_=new Path.Rectangle(g.topLeft,[k,I]);_.fillColor=v.fillColor?v.fillColor:w["Color"].random(),_.fillColor.brightness-=.5,_.position.x+=N*k+N*A,_.position.y+=j*I+j*O,_.rotation=D,P.addChild(_)}P.bounds.center=g.center;case 3:var R=void 0,z=void 0,L=5;switch(g.width>g.height){case!0:R=g.width,z=L;break;default:z=g.height,R=L;break}var G=new Path.Rectangle(g.topLeft,[R,z]);x()>0?G.fillColor="white":G.fillColor=Object(w["Color"])(8,9,26,.5);break;case 4:var F=M(10)+10;switch(M(3)){case 0:g.top-=F;break;case 1:g.left-=F;break;case 3:g.right+=F;break;case 4:g.bottom+=F;break;default:break}break;case 5:var H=50*x(),W=new Path.Rectangle(g.topLeft,g.size);W.fillColor=v.fillColor?v.fillColor:w["Color"].random(),W.fillColor.brightness+=.2*x(),W.scale(.9),y(W.position,{x:H,y:H});case 6:var U=new Path.Line(g.topLeft,g.bottomRight);U.style={strokeColor:"#1d1d2f",strokeWidth:5,strokeCap:"round"},U.blendMode="darken",x()>0?U.scale.x=1:U.scale.x=-1;break;default:v.rasterize().scale(1.1);break}E()}},drawCurve:function(e,t){null==t&&(t=25),paper.projects.forEach((function(t){t.name==e&&t.activate()})),project.clear();for(var n=[project.view.bounds.width,project.view.bounds.height],a=n[0],s=n[1],o=project.view.bounds,i=(Math.sqrt(a*a+s*s),Math.min(Math.max(3,t/2),55)),r=new Group,c=1;c<i;c++){for(var l=new Group,h=new Path.Line,d=a,u=10,p=1;p<u;p++){var m=Math.random()*s/10;h.addSegment(new Point(p*d/u,m))}h.smooth(),h.lastSegment.clearHandles(),h.firstSegment.clearHandles(),h.position.y+=s/c,h.addSegment(h.lastSegment.point.add(0,100)),h.addSegment(new Point(h.firstSegment.point.x,h.lastSegment.point.y)),h.addSegment(h.firstSegment.point),h.join(),h.style={strokeWidth:B(.5,5),fillColor:"#E92E4D"},h.fillColor.hue+=2*c,h.fillColor.saturation-=c/150,h.fillColor.brightness-=c/500,h.blendMode="multiply";h.strokeColor={gradient:{stops:["#2E340A","#FFFAB6","#2E340A"]},origin:o.topLeft,destination:o.bottomRight},view.onFrame=function(e){r.children.forEach((function(e){}))},l.addChild(h);var b=h.getPointAt(Math.floor(Math.random()*h.length)),f=B(5,20);if(Math.random()>.5){var w=new Path.Circle([b.x,b.y],f);w.style={fillColor:"#FF859F"},l.addChild(w)}r.addChild(l)}var v=new Group,g="SUNRISE●",C=3,y={};y.x=o.width/4,y.y=o.height/4;for(var x=0;x<C;x++)for(var T=0;T<C;T++)if(!(Math.random()>.5)){var k=new PointText(new Point(200,200));k.content=g[M(g.length)],k.style={fontSize:50,fontWeight:"bolder",fillColor:"#86727D"},k.blendMode="multiply",k.position.x+=100*T+T*y.x,k.position.y+=100*x+x*y.y,v.addChild(k)}var I=new Path.Rectangle([0,0],r.bounds.size);I.fillColor="blue",r.insertChild(0,I),r.clipped=!0,r.bounds.width=.85*a,r.bounds.height=.85*s,r.bounds.center=o.center,v.bounds.center=o.center;for(var S=new Group,P=1;P<10;P++){var D=Math.min(a,s)/2,j=new Path.Circle(o.center,D);j.style={fillColor:"#E92E4D"},j.fillColor.saturation=P/5,j.scale(1-P/10),S.addChild(j)}r.children.forEach((function(e){e.bounds.bottom=S.bounds.bottom})),r.children.forEach((function(e,t){e.bounds.bottom-=10*t,!(t<r.children.length/2)&&e.sendToBack()})),r.insertChild(Math.floor(r.children.length/2),S),S.scale(.8);var O=new Path.Circle([r.bounds.center.x,r.bounds.bottom],a);O.strokeColor="red",O.bounds.bottom=r.bounds.bottom-30;var N=new Group(O,r);N.clipped=!0;var A=new Path.Circle([r.bounds.center.x,r.bounds.bottom],r.bounds.height);A.strokeColor="red",A.bounds.left=r.bounds.left,A.pivot=r.bounds.bottomLeft,A.rotation=-2;var _=new Group(A,N);_.clipped=!0,E()},drawFlow:function(e,t){null==t&&(t=50),paper.projects.forEach((function(t){t.name==e&&t.activate()})),project.clear();for(var n=[project.view.bounds.width,project.view.bounds.height],a=n[0],s=n[1],o=project.view.bounds,i=function(){function e(t,n,a){Object(b["a"])(this,e),this.color=a,this.loc=t,this.vec=new Point(n/10),this.oriVec=this.vec,this.length=n,this.maxVec=new Point(10),this.acc=new Point(.1,.1),this.fric=new Point(.05),this.tarPoint=new Point(o.center)}return Object(f["a"])(e,[{key:"draw",value:function(){var e=this.loc.add(this.length);this.path=new Path.Line(this.loc,e),this.path.style={strokeColor:this.color,strokeWidth:4}}},{key:"update",value:function(){this.length;Math.abs(this.tarPoint.x-a/2)>a/2.5&&(this.tarPoint.x=o.center.x),Math.abs(this.tarPoint.y-s/2)>s/3.5&&(this.tarPoint.y=o.center.y),this.acc=this.tarPoint.subtract(this.loc).normalize().divide(1),this.vec=Point.min(this.vec.add(Point.min(this.acc,new Point(1,1))),this.maxVec),this.loc=this.loc.add(this.vec),this.path.firstSegment.point=this.loc,this.path.lastSegment.point=this.path.lastSegment.previous.point.subtract(this.vec.normalize().multiply(this.length))}}]),e}(),r=[],c=(new Group,Math.max(5,Math.max(Math.floor(t/10),Math.floor(t/4)))),l={x:a/c,y:s/c},h=0;h<c;h++)for(var d=0;d<c;d++){var u=new w["Color"]("#F3796C");u.hue+=3*[d+h];var p=new i(new Point(d*l.x,h*l.y),t,u);p.draw(),r.push(p)}function m(e){e.stopPropagation(),r.forEach((function(t){t.tarPoint=e.point}))}view.onFrame=function(e){r.forEach((function(e){e.update()}))},view.onMouseMove=m,E()},drawGridPattern:function(e,t){null==t&&(t=3),paper.projects.forEach((function(t){t.name==e&&(t.activate(),project.clear())}));var n=[project.view.bounds.width,project.view.bounds.height],a=n[0],s=n[1],o=project.view.bounds,i=(new Group,Math.max(2,t/10)),r=Math.max(2,t/10),c=Math.min(a,s)/Math.min(i,r),l=M(5);a>s?i+=l:r+=l;for(var h=new Group,d=0;d<r;d++){var u=new w["Color"].random;u.saturation>.25&&(u.saturation-=.25);for(var p=0;p<i;p++){var m=u.clone();m.hue+=180,m.brightness>.5?m.brightness-=.5:m.brightness+=.5;var b=new Path.Rectangle([0,0],[c,c]);b.style={fillColor:x()>0?u:m};var f=new Group;switch(M(4)){case 0:var v=B(1.5,5),g=new Path.Rectangle([0,0],[c,c/v]);g.fillColor=x()>0?m:u,g.bounds.center=b.bounds.center;var C=new Path.Rectangle([0,0],[c/v,c]);C.fillColor=x()>0?m:u,C.bounds.center=b.bounds.center,g.blendMode="difference",C.blendMode="difference",f.addChild(g),f.addChild(C),f.rotation=x()>0?45:0;break;case 1:var y=new Path.Circle(b.bounds.center,c/2.1);y.fillColor=x()>0?m:u,y.bounds.center=b.bounds.center,f.addChild(y),y.blendMode="difference";var T=new Path.Circle(b.bounds.center,c/2.1);T.fillColor=x()>0?m:u,x()>0?T.bounds.top-=b.bounds.height/2*x():T.scale(.8),f.addChild(T),T.blendMode="difference";var k=new Path.Circle(b.bounds.center,c/2.1);k.fillColor=x()>0?m:u,x()>0?k.bounds.left-=b.bounds.width/2*x():k.scale(.8),f.addChild(k),k.blendMode="difference";break;case 2:var I=new Path.RegularPolygon(b.bounds.center,3,c/2);I.fillColor=x()>0?u:m,I.fitBounds(b.bounds),I.bounds.bottom=b.bounds.bottom,I.blendMode="difference",x()>0?f.addChild(I):I.remove();var S=new Path.RegularPolygon(b.bounds.center,3,c/2);S.fillColor=x()>0?u:m,S.rotation=180,S.fitBounds(b.bounds),S.bounds.top=b.bounds.top,S.blendMode="difference",x()>0?f.addChild(S):S.remove();break;default:break}var P=new Group(b.clone(),b,f);P.clipped=!0,P.position.x=p*c,P.position.y=d*c,h.addChild(P)}}h.fitBounds(o),h.scale(.8),h.bounds.center=o.center,E()},drawFlower:function(e,t){null==t&&(t=50),paper.projects.forEach((function(t){t.name==e&&(t.activate(),project.clear())}));for(var n=[project.view.bounds.width,project.view.bounds.height],a=(n[0],n[1],project.view.bounds),s=100,o=Math.max(2,Math.min(Math.floor(t/10),5)),i=new Group,r=["#ADCFE7","#DFB5CD","#EFEDA7"],c=Math.random(),l=M(30),h=0;h<o;h++)for(var d=0;d<o;d++){var u=new Group,p=Math.max(10,M(30)),m=new w["Color"]("".concat(r[M(r.length)]));m.hue+=x()*Math.random()*M(l);for(var b=0;b<p;b++){var f=new Path.Circle([0,0],s),v=new Path.Circle([s,0],s),g=f.intersect(v);f.remove(),v.remove();var C=g.clone();C.fillColor=m,C.blendMode=x()>0?"multiply":"normal",C.fillColor.saturation+=x()*Math.random()/5,C.fillColor.brightness+=x()*Math.random()/10,Math.random()>.8&&(C.fillColor.brightness-=.2,C.fillColor.saturation+=.1);var y=new Path.Circle(C.bounds.center,C.bounds.height/2);y.style={strokeColor:"red"},y.blendMode="multiply",y.bounds.bottom=C.bounds.bottom,y.pivot=[y.bounds.width/2,y.bounds.height-50],y.scale(B(.6,1)),y.rotation=45*Math.random()*x();var T=new Group(y,C);T.clipped=!0,T.pivot=[T.bounds.width/2,T.bounds.height],T.rotate(b*Math.random()*30),T.scale(Math.max(.7,1.5*Math.random())),u.addChild(T),g.remove()}u.scale(Math.max(1-c,Math.random()*[1+c])),u.position.x+=Math.random()*d*10*x(),u.position.y+=Math.random()*h*10*x(),i.addChild(u)}i.fitBounds(a),i.scale(.8),i.bounds.center=a.center;var k=new Path.Arc(a.center,a.center.add(new Point(M(50),a.height/4)),a.bottomRight.subtract(a.width/2,0).add(M(50),0));k.strokeColor={gradient:{stops:["#2E340A","#FFFAB6","#2E340A"]},origin:a.center,destination:a.bottomRight},k.strokeWidth=B(3,5),k.sendToBack(),E()},drawMoreFlower:function(e,t){null==t&&(t=50),paper.projects.forEach((function(t){t.name==e&&(t.activate(),project.clear())}));for(var n=[project.view.bounds.width,project.view.bounds.height],a=n[0],s=n[1],o=project.view.bounds,i=100,r=Math.max(3,Math.min(Math.floor(t/10),7)),c=new Group,l=["#77C8EE","#DFB5CD","#EFEDA7"],h=new w["Color"]("".concat(l[M(l.length)])),d=M(100),u=0;u<r;u++)for(var p=0;p<r;p++){var m=new Group,b=d,f=Math.max(10,M(20));h.hue+=x()*Math.random()*b;for(var v=0;v<f;v++){var g=new Path.Circle([0,0],i);g.fillColor="red";var C=new Path.Circle([i,0],i);C.fillColor="blue";var y=g.intersect(C);g.remove(),C.remove();var T=y.clone();T.fillColor=h,T.blendMode=x()>0?"multiply":"normal",T.fillColor.saturation+=x()*Math.random()/10,T.fillColor.saturation=Math.min(.6,T.fillColor.saturation),T.fillColor.brightness+=x()*Math.random()/10,T.fillColor.brightness=Math.min(.95,T.fillColor.brightness),Math.random()>.8&&(T.fillColor.brightness-=.1,T.fillColor.saturation+=.1);var k=new Path.Circle(T.bounds.center,T.bounds.height/2);k.style={strokeColor:"red"},k.blendMode="multiply",k.bounds.bottom=T.bounds.bottom,k.pivot=[k.bounds.width/2,k.bounds.height-50],k.scale(B(.6,1)),k.rotation=45*Math.random()*x();var I=new Group(k,T);I.clipped=!0,I.pivot=[I.bounds.width/2,I.bounds.height],I.rotate(v*Math.random()*30),I.scale(Math.max(.7,1.5*Math.random())),m.addChild(I),y.remove()}m.scale(Math.max(.7,1.3*Math.random())),m.position=o.center,m.position.x+=p*M(a/r)*x(),m.position.y+=u*M(s/r)*x(),c.addChild(m),x()>0?m.sendToBack():m.bringToFront()}c.scale(.8),c.bounds.center=o.center;var S=h.clone();S.brightness=.3;var P=new Path.Rectangle([0,0],o.size);P.fillColor={gradient:{stops:[S,"black"]},origin:new Point(o.center.x,o.top),destination:new Point(o.center.x,o.bottom)},P.sendToBack(),E()},drawRectRotate:function(e,t){null==t&&(t=50),paper.projects.forEach((function(t){t.name==e&&(t.activate(),project.clear())}));for(var n=[project.view.bounds.width,project.view.bounds.height],a=n[0],s=(n[1],project.view.bounds),o=3,i=0,r=1,c=new Group,l=new w["Size"](a/o,a/o/r),h=0;h<o;h++)for(var d=0;d<o;d++){var u=new Path.Rectangle(l,l);u.style={fillColor:x()>0?"#2443CD":"#CD6322"},u.fillColor.hue+=10*[d+h],u.position.x+=d*l.width+i*d,u.position.y+=h*l.height+i*h,u.rotation=x()>0?45:0;var p=new Group;if(Math.random()>.5){for(var m=M(3),b=o+m*x(),f=0;f<b;f++)for(var v=0;v<b;v++){var g=l.divide(b),y=new Path.Rectangle(u.bounds.topLeft,g);y.style={fillColor:x()>0?"#2443CD":"#CD6322"},y.blendMode=C()?"multiply":"normal",y.position.x+=v*g.width+i*v,y.position.y+=f*g.height+i*f,y.rotation=x()>0?45:0,p.addChild(y)}p.fitBounds(u.bounds),p.position=u.position}c.addChild(new Group(u,p))}c.fitBounds(s),c.scale(.8),c.bounds.center=s.center},
//! Part 1
drawCurveInGrid:function(e,t){null==t&&(t=50),t=Math.max(20,t),paper.projects.forEach((function(t){t.name==e&&(t.activate(),project.clear())}));for(var n=[project.view.bounds.width,project.view.bounds.height],a=n[0],s=n[1],o=project.view.bounds,i=new Group,r={x:t/10,y:t/10},c={x:a/r.x,y:s/r.y},l=5,h=0;h<r.y;h++)for(var d=0;d<r.x;d++){var u=new Path.Circle([0,0],l);u.position.x=d*[r.x+c.x],u.position.y=h*[r.y+c.y],i.addChild(u)}var p=new w["Color"].random,m=new Path.Line,v=p.clone();v.hue+=180,m.strokeColor=v,m.fillColor=p;for(var g=i.clone().children,y=0;y<r.x*r.y;y++){var x=M(g.length),B=g.splice(x,1)[0];m.add(B.position)}m.smooth("continue"),m.closed=!0;var T=new Path.Circle(o.center,Math.min(a,s)/4);T.style={strokeColor:v,strokeWidth:5};var E=function(){function e(t,n,a,s){Object(b["a"])(this,e),this.oriLoc=t,this.loc=t,this.vec=new Point(0,0),this.acc=new Point(0,0),this.offset=n.length,this.timer=0,this.path=n,this.goTo=a,this.speed=1e3*Math.random(),this.accScale=Math.max(M(13),5),this.color=s,this.draw(this.color)}return Object(f["a"])(e,[{key:"draw",value:function(){this.dot=new Path.Circle(this.loc,Math.min(a,s)/8),this.dot.fillColor=this.color,this.dot.blendMode=C()?"screen":"difference",this.dot.name="moveDot",this.goTo.insertChild(this.dot,0)}},{key:"update",value:function(e){this.timer+=e*this.speed*5,this.timer>this.offset/2&&(this.timer=1),this.newPt=this.path.getPointAt(this.timer),this.acc=this.newPt.subtract(this.loc).normalize().divide(this.accScale),this.vec=this.vec.add(this.acc),this.loc=this.loc.add(this.vec),this.dot.position.x=this.loc.x,this.dot.position.y=this.loc.y}}]),e}(),k=new Group,I=new Group(T,T.clone(),i,m);I.fillColor=v,k.fitBounds(o),k.bringToFront();for(var S=[],P=3,D=new w["Color"].random,j=0;j<P;j++){D.saturation=Math.min(Math.max(D.hue,.4),.7),D.hue+=M(30);var O=new E(m.firstSegment.point,m,I,D);S.push(O)}I.clipped=!0,I.fitBounds(o),I.scale(.8),view.onFrame=function(e){S.forEach((function(t){t.update(e.delta)}))}},drawRanCurve:function(e,t){null==t&&(t=50),t=Math.max(20,t),paper.projects.forEach((function(t){t.name==e&&(t.activate(),project.clear())}));var n=[project.view.bounds.width,project.view.bounds.height],a=n[0],s=n[1],o=project.view.bounds,i={x:300,y:t/2},r=new Group,c=new w["Color"].random;c.saturation=.5,c.lightness=.5;for(var l=1;l<i.y;l++){var h=new Path.Line;c.hue+=10*Math.abs(g.noise.perlin2(.1,l/100));for(var d=[],u=1;u<i.x;u++){h.add(new Point(g.noise.perlin2(u/50,l/100)*a,g.noise.perlin2(l/50,u/100)*s)),h.strokeWidth=1,h.smooth("continue");var p=c.clone();p.hue+=100*g.noise.perlin2(u/100,l/100),d.push(p)}h.strokeColor={gradient:{stops:d},origin:o.center,destination:o.bottomRight},r.addChild(h)}r.fitBounds(o),r.scale(.8),g.noise.seed(Math.random())},drawArrowWave:function(e,t){null==t&&(t="Hello world"),paper.projects.forEach((function(t){t.name==e&&(t.activate(),project.clear())}));var n=[project.view.bounds.width,project.view.bounds.height],a=n[0],s=n[1],o=project.view.bounds,i={x:30,y:30},r={x:100,y:100},c=100,l=150,h=new Group,d=new w["Color"]("#FF534A");d.lightness=.4,d.saturation=.7;var u=0;g.noise.seed(Math.random());for(var p=1;p<i.y;p++)for(var m=1;m<i.x;m++){var b=new PointText(new Point(0,0));b.position.x=g.noise.perlin2(m/100,p/10)*a+m*[r.x+c],b.position.y=g.noise.perlin2(m/10,p/19)*s+p*[r.y+l],d.hue+=g.noise.perlin2(m/100,p/105)/5,b.style={fillColor:d,fontFamily:"Sans-serif",fontSize:l},u++,u>t.length-1&&(u=0),b.content=t[u],b.rotation=90*g.noise.perlin2(m/10,p/10),h.addChild(b)}h.fitBounds(o),h.scale(.8)},drawMountain:function(e,t){null==t&&(t=50),t=Math.max(20,t),paper.projects.forEach((function(t){t.name==e&&(t.activate(),project.clear())}));for(var n=[project.view.bounds.width,project.view.bounds.height],a=(n[0],n[1],project.view.bounds),s=new Group,o=10,i=1;i<o;i++){var r=new Path.Line;r.addSegments([0,0]);var c=Math.min(2*i,10),l=100+50*i;g.noise.seed(Math.random());for(var h=1;h<c-1;h++){var d=new Point(100*h,-l);d.y+=g.noise.perlin2(h/3,.3)*l,r.addSegment(d)}r.addSegment(new Point(100*c,0)),r.smooth("continue"),r.firstSegment.clearHandles(),r.lastSegment.clearHandles(),r.closed=!0,r.style={fillColor:w["Color"].random()},r.fillColor.saturation=.3,r.blendMode=C()?"overlay":"hue",r.scale(1+.1*i,1),r.position.x+=M(r.bounds.width)/i,s.addChild(r)}s.fitBounds(a);var u=s.clone();u.scale(1,-1),u.bounds.top=s.bounds.bottom,u.children.forEach((function(e){if(e.fillColor){var t=e.fillColor,n=t.clone();n.lightness-=.2,e.fillColor={gradient:{stops:[t,n]},origin:e.bounds.topLeft,destination:e.bounds.bottomRight}}}));var p=new Group(s,u);p.fitBounds(a),p.scale(.8)}},I=k,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{staticClass:"mb-5",attrs:{fluid:""}},[n("hr"),n("b-row",{attrs:{"align-v":"end"}},[n("b-col",{directives:[{name:"show",rawName:"v-show",value:e.showInput,expression:"showInput"}],staticClass:"ml-auto mr-auto mb-2",attrs:{cols:"12"}},[n("Input",{directives:[{name:"show",rawName:"v-show",value:e.showInput,expression:"showInput"}],staticClass:"inline",attrs:{inputType:e.inputType,inputID:e.canvasID,holder:e.showInputHolder},on:{sentData:e.getData}})],1)],1),n("b-row",[n("b-col",{staticClass:"m-auto",attrs:{sm:"12"}},[n("canvas",{staticClass:"large-canvas shadow ",attrs:{id:e.canvasID}})])],1),n("b-row",[n("b-col",{staticClass:"m-auto mt-2 ",attrs:{sm:"12"}},[n("b-button",{attrs:{variant:"primary"},on:{click:e.download}},[e._v("\n          DOWNLOAD\n        ")])],1)],1)],1)},P=[],D=n("fd90"),j=n.n(D),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form",{attrs:{inline:""}},[n("label",{staticClass:"sr-only",attrs:{for:"input-"+e.inputID}},[e._v("Post")]),n("b-input",{staticClass:"mb-1 mr-sm-2 mb-sm-0",attrs:{id:"input-"+e.inputID,type:e.inputType,min:"0",max:"100",placeholder:e.holder},on:{change:e.typeCheck},model:{value:e.inputData,callback:function(t){e.inputData=t},expression:"inputData"}}),n("b-button",{directives:[{name:"show",rawName:"v-show",value:"text"==e.inputType,expression:"inputType=='text'"}],attrs:{variant:"primary"},on:{click:e.sendData}},[e._v("Post")])],1)},N=[],A={name:"Input",props:{holder:String,inputType:{type:String,default:"input"},inputID:String},data:function(){return{inputData:null}},methods:{typeCheck:function(e){"range"===this.inputType&&this.sendData(e)},sendData:function(e){"range"===this.inputType?(this.inputData=e,this.$emit("sentData",this.inputData)):(null==this.inputData&&(this.inputData="default"),this.$emit("sentData",this.inputData),this.inputData=null)}}},_=A,R=Object(i["a"])(_,O,N,!1,null,null,null),z=R.exports,L={name:"PaperCanvas",mixins:[j.a],components:{Input:z},props:{canvasID:String,showInput:!1,way:Function,inputType:String,showInputHolder:{type:String,default:"type here"}},data:function(){return{inputData:null,downLoadLink:null,inViewport:{now:Boolean,fully:Boolean,above:Boolean,below:Boolean}}},methods:{setUp:function(){},draw:function(){this.way(this.canvasID,this.inputData)},download:function(){var e=document.getElementById(this.canvasID),t=e.toDataURL("image/png"),n=document.createElement("a");n.download="hayden_paper",n.href=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)},getData:function(e){this.inputData=e,this.draw()}},watch:{"inViewport.now":function(e){e&&this.draw()}},mounted:function(){paper.setup(this.canvasID),paper.project.name=this.canvasID}},G=L,F=(n("0ff5"),Object(i["a"])(G,S,P,!1,null,"0abda5aa",null)),H=F.exports,W={name:"GalleryGeo",components:{PaperCanvas:H,Input:z},data:function(){return{drawActive:!1,drawMethod:I}},methods:{},created:function(){v.a.install(window)}},U=W,X=Object(i["a"])(U,p,m,!1,null,"afed6fe6",null),Y=X.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{staticClass:"p-0 m-0",staticStyle:{height:"100vh"},attrs:{fluid:""}},[n("div",{staticClass:"trigger",attrs:{id:"triggerTop"}}),n("div",{attrs:{id:"trigger"}}),n("b-row",{staticClass:"p-0 m-0 shadow "},[n("b-container",{staticClass:"after-camera ",attrs:{fluid:""}},[n("b-row",{staticClass:"h-100 pt-3"},[n("b-col",{attrs:{cols:"4","offset-sm":"4"}},[n("transition",{attrs:{name:"fade"}},[n("b-col",{staticClass:"show-text p-5 ",attrs:{id:"stAA",sm:"12"}},[n("h2",[e._v("EMOTION MODIFIER")]),n("p",{staticClass:"w-75"},[e._v("\n              "+e._s(e.lang(e.htmlText.scene0.introDesc))+"\n            ")])])],1)],1),n("b-col",{staticStyle:{height:"70vh",position:"absoulute:right:-50px"},attrs:{"align-self":"center",id:"indexCanvasBox"}},[n("canvas",{attrs:{id:"indexCanvas"}})])],1)],1)],1),n("div",{staticClass:"trigger",attrs:{id:"triggerStartLighting"}}),n("div",{staticClass:"trigger",attrs:{id:"triggerCameraZoomIn"}}),n("div",{staticClass:"trigger",attrs:{id:"triggerCameraZoomA"}}),n("div",{staticClass:"trigger",attrs:{id:"triggerCameraZoomB"}}),n("div",{staticClass:"trigger",attrs:{id:"triggerCameraLeaveA"}}),n("div",{staticClass:"trigger",attrs:{id:"triggerSceneB"}}),n("div",{staticClass:"trigger",attrs:{id:"triggerSceneC"}}),n("div",{staticClass:"trigger",attrs:{id:"triggerSceneD"}}),n("div",{staticClass:"trigger",attrs:{id:"triggerSceneE"}}),n("b-row",{staticStyle:{height:"100vh"},attrs:{id:"threeBoxContainer"}},[n("b-col",{staticClass:"topInfoBar p-1",class:{hidden:e.autoHidden}},[n("b-row",[n("b-col",[e.lastDetections?n("ul",{staticClass:"m-0 p-1",attrs:{id:"topInfoEmoUl"}},e._l(e.slice(this.lastDetections),(function(t,a){return n("li",{key:a},[e._v("  "+e._s(t[0])+":"+e._s(t[1].toFixed(2))+"   ")])})),0):e._e(),e.modification&&e.inSceneC?n("ul",{staticClass:"m-0 p-1",attrs:{id:"topInfoModiUl"}},e._l(e.slice2(this.modification),(function(t,a){return n("li",{key:a},[e._v("  "+e._s(t[0])+":"+e._s(t[1].toFixed(2))+"   ")])})),0):e._e(),n("span",{attrs:{id:"topButton"}},[n("b-form-checkbox",{staticClass:"right-button",attrs:{name:"check-button",size:"lg",switch:""},on:{change:e.toggleLanguage}},[n("b",[n("i",{staticClass:"fas",class:{"fa-globe-asia":!e.isEnglish,"fa-globe-europe":e.isEnglish}})])]),n("b-form-checkbox",{staticClass:"right-button",attrs:{name:"check-button",size:"lg",switch:""},on:{change:e.isMute}},[n("b",[n("i",{staticClass:"fas",class:{"fa-volume-mute":e.muted,"fa-volume-up":!e.muted}})])])],1)])],1)],1),n("transition",{attrs:{name:"fade"}},[n("b-col",{directives:[{name:"show",rawName:"v-show",value:e.sceneIntroA,expression:"sceneIntroA"}],staticClass:"scene-intro",attrs:{id:"sceneIntroA"}},[n("b-row",{staticClass:"scene-intro-content"},[n("b-col",[n("h1",[e._v("1")]),n("h2",[e._v(e._s(e.lang(e.htmlText.sceneA.introTitle)))])]),n("span",{staticClass:"scene-intro-left-side"},[e._v("\n           - EMOTION FACTORY -\n         ")]),n("p",[e._v(e._s(e.lang(e.htmlText.sceneA.desc1)))])],1),n("b-row",{staticClass:"scene-intro-bg"})],1)],1),n("transition",{attrs:{name:"fade"}},[n("b-col",{directives:[{name:"show",rawName:"v-show",value:e.sceneIntroB,expression:"sceneIntroB"}],staticClass:"scene-intro",attrs:{id:"sceneIntroB"}},[n("b-row",{staticClass:"scene-intro-content"},[n("b-col",[n("h1",[e._v("2")]),n("h2",[e._v(e._s(e.lang(e.htmlText.sceneB.introTitle)))])]),n("span",{staticClass:"scene-intro-left-side"},[e._v("\n           - EMOTION FACTORY -\n         ")]),n("p",[e._v(e._s(e.lang(e.htmlText.sceneB.desc1)))])],1),n("b-row",{staticClass:"scene-intro-bg"})],1)],1),n("transition",{attrs:{name:"fade"}},[n("b-col",{directives:[{name:"show",rawName:"v-show",value:e.sceneIntroC,expression:"sceneIntroC"}],staticClass:"scene-intro",attrs:{id:"sceneIntroC"}},[n("b-row",{staticClass:"scene-intro-content"},[n("b-col",[n("h1",[e._v("3")]),n("h2",[e._v(e._s(e.lang(e.htmlText.sceneC.introTitle)))])]),n("span",{staticClass:"scene-intro-left-side"},[e._v("\n           - EMOTION FACTORY -\n         ")]),n("p",[e._v(e._s(e.lang(e.htmlText.sceneC.desc0)))])],1),n("b-row",{staticClass:"scene-intro-bg"})],1)],1),n("transition",{attrs:{name:"fade"}},[n("b-col",{directives:[{name:"show",rawName:"v-show",value:e.sceneIntroD,expression:"sceneIntroD"}],staticClass:"scene-intro",attrs:{id:"sceneIntroD"}},[n("b-row",{staticClass:"scene-intro-content"},[n("b-col",[n("h1",[e._v("4")]),n("h2",[e._v(e._s(e.lang(e.htmlText.sceneD.introTitle)))])]),n("span",{staticClass:"scene-intro-left-side"},[e._v("\n           - EMOTION FACTORY -\n         ")]),n("p",[e._v(e._s(e.lang(e.htmlText.sceneD.desc0)))])],1),n("b-row",{staticClass:"scene-intro-bg"})],1)],1),n("transition",{attrs:{name:"fade"}},[n("b-col",{directives:[{name:"show",rawName:"v-show",value:e.sceneIntroE,expression:"sceneIntroE"}],staticClass:"scene-intro",attrs:{id:"sceneIntroE"}},[n("b-row",{staticClass:"scene-intro-content"},[n("b-col",[n("h1",[e._v("5")]),n("h2",[e._v(e._s(e.lang(e.htmlText.sceneE.introTitle)))])]),n("span",{staticClass:"scene-intro-left-side"},[e._v("\n           - EMOTION FACTORY -\n         ")]),n("p",[e._v(e._s(e.lang(e.htmlText.sceneE.desc0)))])],1),n("b-row",{staticClass:"scene-intro-bg"})],1)],1),n("transition",{attrs:{name:"fade"}},[e.showEmotionA?n("b-col",{staticClass:"show-text align-self-end p-5",class:{hidden:e.autoHidden},attrs:{id:"stA",sm:"4","offset-sm":"1"}},[n("h2",[e._v(e._s(e.lang(e.htmlText.sceneA.title2)))]),n("p",[e._v(e._s(e.lang(e.htmlText.sceneA.desc2)))]),n("b-button",{staticClass:"right-button",on:{click:function(t){e.showEmotion=!e.showEmotion}}},[e._v(" OPEN ")])],1):e._e()],1),n("transition",{attrs:{name:"fade"}},[e.showEmotionB?n("b-col",{staticClass:"show-text align-self-center  p-5",attrs:{id:"stB",sm:"8","offset-sm":"1"}},[n("b-row",[n("b-col",{attrs:{cols:"6"}},[n("h2",[e._v(e._s(e.lang(e.htmlText.sceneA.title3)))]),n("p",[e._v(e._s(e.lang(e.htmlText.sceneA.desc3)))])])],1),n("ul",{staticClass:"row",attrs:{id:"stBList"}},[n("transition",{attrs:{name:"slide-fade"}},[n("li",{directives:[{name:"show",rawName:"v-show",value:e.showEmotionB1,expression:"showEmotionB1"}],staticClass:"rounded "},[n("h2",[e._v(e._s(e.lang(e.htmlText.sceneA.title4)))]),n("p",{staticClass:"bgc rounded shadow"},[e._v(e._s(e.lang(e.htmlText.sceneA.desc4)))])])]),n("transition",{attrs:{name:"slide-fade"}},[n("li",{directives:[{name:"show",rawName:"v-show",value:e.showEmotionB2,expression:"showEmotionB2"}],staticClass:"rounded "},[n("h2",[e._v(e._s(e.lang(e.htmlText.sceneA.title5)))]),n("p",{staticClass:"bgc rounded shadow"},[e._v(e._s(e.lang(e.htmlText.sceneA.desc5)))])])]),n("transition",{attrs:{name:"slide-fade"}},[n("li",{directives:[{name:"show",rawName:"v-show",value:e.showEmotionB3,expression:"showEmotionB3"}],staticClass:"rounded "},[n("h2",[e._v(e._s(e.lang(e.htmlText.sceneA.title6)))]),n("p",{staticClass:"bgc rounded shadow"},[e._v(e._s(e.lang(e.htmlText.sceneA.desc6)))])])])],1)],1):e._e()],1),n("transition",{attrs:{name:"fade-rotate"}},[n("b-col",{directives:[{name:"show",rawName:"v-show",value:e.showSceneBIntro,expression:"showSceneBIntro"}],staticClass:"show-text  h-100 "},[n("b-row",{staticClass:"rounded h-100 p-0  pb-5 ",attrs:{"align-h":"center","align-v":"center"}},[n("b-col",{staticClass:"p-3 rounded shadow-lg",attrs:{cols:"6",id:"stC0"}},[n("h2",{staticClass:"p-0"},[e._v(e._s(e.lang(e.htmlText.sceneB.title2)))]),n("p",{staticClass:"shadow rounded p-3 bgc"},[e._v(e._s(e.lang(e.htmlText.sceneB.desc2)))]),n("svg",{staticClass:"w-100",attrs:{id:"svgWebAPI"}})])],1)],1)],1),n("transition",{attrs:{name:"slide-fade-right"}},[n("b-col",{directives:[{name:"show",rawName:"v-show",value:e.showBarB,expression:"showBarB"}],staticClass:"show-bar p-0",class:{hidden:e.autoHidden}},[n("b-row",{staticClass:"rounded h-100 w-25 float-right p-0 shadow"},[n("transition",{attrs:{name:"fade"}},[n("b-row",{directives:[{name:"show",rawName:"v-show",value:e.showScreenB0,expression:"showScreenB0"}],staticClass:"show-text-b p-3 ",attrs:{"align-h":"center"}},[n("b-col",{staticClass:" align-self-end",attrs:{id:"stC1",cols:"12"}},[n("h2",[e._v(e._s(e.lang(e.htmlText.sceneB.title3)))]),n("p",{staticClass:"p-3 rounded shadow bgc"},[e._v("\n            "+e._s(e.lang(e.htmlText.sceneB.desc3))+"\n          ")]),n("ul",{staticClass:"p-0"},[e.weatherData?n("li",{staticClass:"show-text-big p-0 pl-3 rounded shadow"},[e._v(e._s(parseFloat(e.weatherData.data.main.temp-273.15).toFixed(2))+"C")]):e._e()])]),n("svg",{staticClass:"show-text-svg",attrs:{id:"svgTemp"}})],1)],1),n("transition",{attrs:{name:"fade"}},[n("b-row",{directives:[{name:"show",rawName:"v-show",value:e.showScreenB1,expression:"showScreenB1"}],staticClass:"show-text-b p-3",attrs:{"align-h":"center"}},[n("b-col",{staticClass:"  align-self-end",attrs:{id:"stC2",cols:"12"}},[n("h2",[e._v(e._s(e.lang(e.htmlText.sceneB.title4)))]),n("p",{staticClass:"p-3 rounded shadow bgc"},[e._v(e._s(e.lang(e.htmlText.sceneB.desc4)))]),n("ul",{staticClass:"p-0"},[e.weatherData?n("li",{staticClass:"show-text-big p-0 pl-3 rounded shadow"},[e._v(e._s(e.weatherData.data.weather[0].main))]):e._e()])]),n("svg",{staticClass:"show-text-svg",attrs:{id:"svgWeather"}})],1)],1),n("transition",{attrs:{name:"fade"}},[e.showScreenB2?n("b-row",{staticClass:"show-text-b  p-3",attrs:{"align-h":"center"}},[n("b-col",{staticClass:"align-self-end ",attrs:{id:"stC3",cols:"12"}},[n("h2",[e._v(e._s(e.lang(e.htmlText.sceneB.title5)))]),n("p",{staticClass:"p-3 rounded shadow bgc"},[e._v("\n        "+e._s(e.lang(e.htmlText.sceneB.desc5))+"\n      ")]),n("ul",{staticClass:"p-0"},[e.analyzedText?n("li",{staticClass:"show-text-big p-0 pl-3 rounded shadow"},[e._v(e._s(e.analyzedText.toFixed(3)))]):e._e()]),n("b-button",{staticClass:"m-1  right-button",on:{click:function(t){e.showScreenB2open=!e.showScreenB2open}}},[e._v("SHOW POSTS")])],1)],1):e._e()],1)],1)],1)],1),n("transition",{attrs:{name:"slide-fade-right"}},[e.showScreenB2open?n("b-row",{staticClass:"h-100 w-75 show-text",attrs:{"align-h":"end",id:"stC3ul"}},[n("b-col",{staticClass:"align-self-start p-3 h-100",attrs:{id:"stC3s",cols:"6"}},[n("ul",{staticClass:"p-3"},e._l(e.allPosts.slice(0,5),(function(t,a){return n("li",{key:a,staticClass:"mt-3 p-2 pl-3 rounded shadow"},[e._v(e._s(t))])})),0)])],1):e._e()],1),n("transition",{attrs:{name:"slide-fade"}},[n("b-row",{directives:[{name:"show",rawName:"v-show",value:e.showBarC,expression:"showBarC"}],staticClass:"show-text-b w-30 h-100 show-bar-c",class:{hidden:e.autoHidden}},[n("b-col",{staticClass:"p-3",staticStyle:{position:"absolute"}},[n("h2",[e._v(e._s(e.lang(e.htmlText.sceneC.title1)))]),n("b-col",{staticClass:"p-3 rounded bgc"},[n("p",[e._v(e._s(e.lang(e.htmlText.sceneC.desc1)))])]),n("b-col",{staticClass:"sceneC-button-box"},[n("b-row",[n("b-col",{staticClass:"sceneC-button rounded",attrs:{cols:"12",name:"btn-neutral"}},[e._v("\n              "+e._s(e.lang(e.htmlText.sceneC.button0))+"\n            ")]),n("b-col",{staticClass:"sceneC-button rounded",attrs:{cols:"12",name:"btn-happy"}},[e._v("\n              "+e._s(e.lang(e.htmlText.sceneC.button1))+"\n            ")]),n("b-col",{staticClass:"sceneC-button rounded",attrs:{cols:"12",name:"btn-surprised"}},[e._v("\n              "+e._s(e.lang(e.htmlText.sceneC.button2))+"\n            ")]),n("b-col",{staticClass:"sceneC-button rounded",attrs:{cols:"12",name:"btn-disgusted"}},[e._v("\n              "+e._s(e.lang(e.htmlText.sceneC.button3))+"\n            ")]),n("b-col",{staticClass:"sceneC-button rounded",attrs:{cols:"12",name:"btn-angry"}},[e._v("\n              "+e._s(e.lang(e.htmlText.sceneC.button4))+"\n            ")]),n("b-col",{staticClass:"sceneC-button rounded",attrs:{cols:"12",name:"btn-fearful"}},[e._v("\n              "+e._s(e.lang(e.htmlText.sceneC.button6))+"\n            ")]),n("b-col",{staticClass:"sceneC-button rounded",attrs:{cols:"12",name:"btn-sad"}},[e._v("\n              "+e._s(e.lang(e.htmlText.sceneC.button5))+"\n            ")]),n("transition",{attrs:{name:"fade"}},[n("b-col",{directives:[{name:"show",rawName:"v-show",value:this.dots.length>100,expression:"this.dots.length>100"}],staticClass:"rounded",attrs:{id:"sceneCCompose",cols:"12",name:"btn-compose"}},[e._v("\n              "+e._s(e.lang(e.htmlText.sceneC.button7))+"\n            ")])],1)],1)],1)],1),n("b-col",{attrs:{"align-self":"end"}},[n("svg",{attrs:{id:"svgMixing"}})]),n("b-col",{staticClass:"show-number"},[e._v(e._s(e.dots.length)+"%")])],1)],1),n("b-col",{staticClass:"p-0 m-0",staticStyle:{position:"absolute"},attrs:{sm:"12",id:"threeBox"}}),n("transition",{attrs:{name:"slide-fade"}},[n("b-col",{directives:[{name:"show",rawName:"v-show",value:e.showEmotion,expression:"showEmotion"}],staticClass:"rounded p-0 h-100 shadow-lg",class:{hidden:e.autoHidden},attrs:{id:"showEmotionData",sm:"3"}},[n("b-row",[n("b-col",{attrs:{id:"takingPhoto",cols:"12"}},[n("p",{directives:[{name:"show",rawName:"v-show",value:e.takingPhoto,expression:"takingPhoto"}],staticClass:"hasFace p-3"},[e._v(e._s(e.detectedFace())+" FACE DETECTED")]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.noFace,expression:"noFace"}],staticClass:"noFace p-3"},[e._v("NO FACE BE DETECTED...")])]),n("b-col",{attrs:{cols:"12"}},[n("ul",{staticClass:"m-1 p-1 row"},[n("b-row",[n("b-col",{staticClass:"p-0",attrs:{cols:"12"}},[n("h4",[e._v("CURRENT FACTOR")])]),n("b-col",{attrs:{cols:"12"}},[n("b-form-checkbox",{staticClass:"right-button",attrs:{name:"check-button",size:"lg",switch:""},on:{change:e.check}},[n("b",[e._v("ACCESS CAMERA ")]),n("b-col",{directives:[{name:"show",rawName:"v-show",value:e.cameraLoading,expression:"cameraLoading"}],attrs:{"align-self":"center"}},[n("p",{staticClass:"p-2 rounded",staticStyle:{background:"white"}},[e._v("Loading detection models...")])])],1)],1),e._l(e.detections,(function(t,a){return n("b-col",{key:a,staticClass:"p-1",attrs:{cols:"4"}},[n("li",{staticClass:"person-li p-2 w-100 rounded shadow "},e._l(e.slice(t),(function(t){return n("p",{key:t[0],staticClass:"m-1"},[e._v("\n                      "+e._s(t[0])+":"+e._s(t[1].toFixed(3))+"\n                      ")])})),0)])}))],2)],1)])],1),n("b-row",{staticClass:"p-2"},e._l(e.boxesData,(function(t,a){return n("b-col",{key:a,staticClass:"p-3 mt-1",style:e.setBoxColor(t),attrs:{cols:"2"}},[e._v("no."+e._s(a))])})),1),n("b-row",{staticStyle:{position:"absolute",bottom:"0"}},[n("video",{directives:[{name:"show",rawName:"v-show",value:e.allowToUseCamera,expression:"allowToUseCamera"}],attrs:{id:"video",muted:""},domProps:{muted:!0}})])],1)],1)],1),n("b-row",[n("b-container",{staticClass:"after-camera",attrs:{fluid:""}})],1)],1)},Q=[],Z=(n("96cf"),n("3b8d")),q=(n("a481"),n("8615"),n("75fc")),K=(n("55dd"),n("768b")),J=(n("ffc1"),n("14b9"),n("c155")),ee=n.n(J),te=n("e7bb"),ne=n.n(te),ae=n("1e5c"),se=n("5a89"),oe=n("ab39"),ie=n("22b5"),re=(n("4be7"),n("673e"),n("5118"),function(){return Math.random()>.5?1:-1}),ce=function(){function e(t,n,a,s){var o=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"btn-neutral";switch(Object(b["a"])(this,e),this.type=i,this.name=n,this.scene=t,this.mesh=null,this.oriScale=null,this.shouldRemove=!1,this.type){case"btn-neutral":this.loc=new se["Nb"](2,-1,10);break;case"btn-happy":this.loc=new se["Nb"](10,-1,2);break;case"btn-sad":this.loc=new se["Nb"](5,1,5);break;case"btn-surprised":this.loc=new se["Nb"](-5,-1,5);break;case"btn-angry":this.loc=new se["Nb"](-10,1,2);break;case"btn-disgusted":this.loc=new se["Nb"](-5,1,-5);break;case"btn-fearful":this.loc=new se["Nb"](10,0,5);break}this.vec=new se["Nb"](0,0,0),this.hold=1,this.oriVec=this.vec,this.oriLoc=new se["Nb"](a.x,a.y,a.z),this.maxVec=new se["Nb"](1,1,1),this.minVec=new se["Nb"](-1,-1,-1),this.acc=new se["Nb"](.01,.01,.01),this.speedPara=s,this.speedParaLoop=null,this.speedParaLoopTrue=!0,this.fric=new se["Nb"](.01,.01,.01),this.tarPoint=new se["Nb"](0,0,0),this.vertices=[],this.tars=[],this.mouseX=null,this.mouseY=null,setTimeout((function(){o.acc=new se["Nb"](-1,-1,-1),o.maxVec=new se["Nb"](.1,.1,.1),o.speedPara=300}),1250)}return Object(f["a"])(e,[{key:"setTarget",value:function(e){Math.random(),this.tarPoint=new se["Nb"](e,0,e)}},{key:"concrete",value:function(){this.tarPoint=this.oriLoc,this.hold=3*Math.random(),this.maxVec=new se["Nb"](.02,.02,.02)}},{key:"unconcrete",value:function(){var e=this;this.hold=Math.sin(Math.random())*this.hold*re(),this.speedPara=50,this.minVec=new se["Nb"](-50,-50,-50),this.maxVec=new se["Nb"](50,50,50);setTimeout((function(){e.speedPara=300,e.hold=1,e.minVec=new se["Nb"](-.1,-.1,-.1),e.maxVec=new se["Nb"](.1,.1,.1)}),500)}},{key:"draw",value:function(){var e,t=function(e){return Math.floor(Math.random()*e)};switch(this.type){case"btn-neutral":switch(t(4)){case 0:e=(new se["Hb"]).load("models/segmentB.png");break;case 1:e=(new se["Hb"]).load("models/segmentC.png");break;case 2:e=(new se["Hb"]).load("models/personSlice.png");break;default:e=(new se["Hb"]).load("models/segmentC.png");break}break;case"btn-happy":e=(new se["Hb"]).load("models/segmentC.png");break;case"btn-sad":e=(new se["Hb"]).load("models/segmentF.png");break;case"btn-surprised":e=(new se["Hb"]).load("models/segmentG.png");break;case"btn-angry":e=(new se["Hb"]).load("models/segmentB.png");break;case"btn-disgusted":e=(new se["Hb"]).load("models/segmentH.png");break;case"btn-fearful":e=(new se["Hb"]).load("models/segmentE.png");break;default:break}var n=new se["Eb"]({map:e,color:16777215*Math.random()}),a=new se["Db"](n),s=.5+Math.random();this.oriScale=s,a.scale.set(s,s,1),a.position.set(this.loc.x,this.loc.y,this.loc.z),a.name=this.name,this.mesh=a,this.scene.add(this.mesh)}},{key:"update",value:function(e,t){this.tarPoint=new se["Nb"](e*this.hold,0*this.hold,t*this.hold),this.acc=this.tarPoint.sub(this.loc).normalize().divideScalar(this.speedPara),this.vec=this.vec.add(this.acc),this.vec=this.vec.clamp(this.minVec,this.maxVec),this.loc=this.loc.add(this.vec),this.mesh.position=this.loc,this.mesh.updateMatrix()}}]),e}(),le=function(){function e(t,n,a,s){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"btn-neutral";switch(Object(b["a"])(this,e),this.type=o,this.name=n,this.scene=t,this.mesh=null,this.oriScale=null,console.log("build"),this.type){case"btn-neutral":this.loc=new se["Nb"](2,-1,10);break;case"btn-happy":this.loc=new se["Nb"](10,-1,2);break;case"btn-sad":this.loc=new se["Nb"](5,1,5);break;case"btn-surprised":this.loc=new se["Nb"](-5,-1,5);break;case"btn-angry":this.loc=new se["Nb"](-10,1,2);break;case"btn-disgusted":this.loc=new se["Nb"](-5,1,-5);break;case"btn-fearful":this.loc=new se["Nb"](10,0,5);break}this.loc=new se["Nb"](a.x,a.y,a.z),this.vec=2+2*Math.random()}return Object(f["a"])(e,[{key:"draw",value:function(){var e,t=function(e){return Math.floor(Math.random()*e)};switch(this.type){case"btn-neutral":switch(t(4)){case 0:e=(new se["Hb"]).load("models/segmentB.png");break;case 1:e=(new se["Hb"]).load("models/segmentC.png");break;default:e=(new se["Hb"]).load("models/segmentC.png");break}break;case"btn-happy":e=(new se["Hb"]).load("models/segmentC.png");break;case"btn-sad":e=(new se["Hb"]).load("models/segmentF.png");break;case"btn-surprised":e=(new se["Hb"]).load("models/segmentG.png");break;case"btn-angry":e=(new se["Hb"]).load("models/segmentB.png");break;case"btn-disgusted":e=(new se["Hb"]).load("models/segmentH.png");break;case"btn-fearful":e=(new se["Hb"]).load("models/segmentE.png");break;default:break}var n=new se["Eb"]({map:e,color:16777215*Math.random()}),a=new se["Db"](n),s=1+6*Math.random();this.oriScale=s,a.scale.set(s,s,1),a.position.set(this.loc.x,this.loc.y,this.loc.z),a.name=this.name,this.mesh=a,this.scene.add(this.mesh)}},{key:"update",value:function(){this.loc.x-=this.vec,this.loc.x<-100&&(this.scene.remove(this.mesh),this.shouldRemove=!0),this.mesh.position=this.loc,this.mesh.updateMatrix()}}]),e}(),he={Dot:ce,Dot2:le},de=n("4721"),ue=n("34ad"),pe=n("32d9"),me=n("93e9"),be=n("9ab2"),fe=n("ba3e"),we=(n("360d"),n("95e6"),n("2d08")),ve=n("8a60"),ge=(n("41c6"),n("dda6"),n("e7bb"));function Ce(e){return Math.floor(Math.random()*e)}var ye=function(e,t){var n,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!0===a?Array.isArray(e)?(n=Array.from(e),1===t.length&&(t[1]=t[0]),n[0]+=t[0],n[1]+=t[1]):(n=Object.assign({},e),n.x+=t.x,n.y+=t.y):Array.isArray(e)?(n=Array.from(e),1===t.length&&(t[1]=t[0]),n[0]-=t[0],n[1]-=t[1]):(n=Object.assign({},e),n.x-=t.x,n.y-=t.y),n},xe=function(){return Math.random()>.5?1:-1};function Me(e,t){return Math.random()*(+t-+e)+ +e}function Be(e){var t=new Color.random;return t.hue=360*e.hue,t.saturation=e.saturation,t.lightness=e.lightness,t}var Te={onNeutral:function(e,t,n){paper.projects.forEach((function(t){t.name==e&&(t.activate(),project.clear())}));var a=Math.floor(10*n),s={x:a,y:a},o=new Group,i=Be(t);ge.noise.seed(Math.random());for(var r=0;r<s.y;r++)for(var c=0;c<s.x;c++){var l=new Path.Rectangle([0,0],[100,100]),h=i.clone();h.saturation+=ge.noise.perlin2(c/10,r/10),h.lightness-=ge.noise.perlin2(c/10,r/10),l.fillColor=h,l.position.x=100*c,l.position.y=100*r,o.addChild(l)}o.fitBounds(view.bounds)},onDisgusted:function(e,t,n){paper.projects.forEach((function(t){t.name==e&&(t.activate(),project.clear())}));var a={x:Math.floor(10*n),y:Math.floor(10*n)},s=new Group,o=Be(t);ge.noise.seed(Math.random());for(var i=1;i<a.y+1;i++)for(var r=1;r<a.x+1;r++){var c=new Group,l=new Path.Circle([0,0],50),h=o.clone();h.saturation+=ge.noise.perlin2(r/10,i/10),h.lightness-=ge.noise.perlin2(r/10,i/10),l.fillColor=h,c.addChild(l);for(var d=Math.max(3,Ce(6)),u=1;u<d;u++){var p=new Path.Circle([0,0],5*u);p.fillColor=h,p.fillColor.lightness+=ge.noise.perlin2(u/10,u/100),p.fillColor.hue+=ge.noise.perlin2(u/10,u/100),c.addChild(p)}c.position.x=100*r,c.position.y=100*i,s.addChild(c)}s.fitBounds(view.bounds)},onSad:function(e,t,n){var a=[n-.7]/.7*100;paper.projects.forEach((function(t){t.name==e&&t.activate()})),project.clear();var s=[project.view.bounds.width,project.view.bounds.height],o=s[0],i=s[1],r=Be(t),c=new Group,l=0;do{var h=0,d=new Group,u=Me(100,o/2);do{var p=void 0;p=Math.random()<a/50?Me(5,Math.random()*i/10):u;var m=Path.Rectangle([0,0],[u,p]);m.style={fillColor:r.clone()},m.fillColor.saturation+=Math.random()*xe(),m.fillColor.brightness+=Math.random()*xe(),m.fillColor.brightness<.3&&(m.fillColor.brightness=.6),m.fillColor.brightness>.8&&(m.fillColor.brightness=.7);var b=m.previousSibling;0!==h&&(m.bounds.top=b.bounds.bottom),d.addChild(m),h+=p}while(h<i);var f=d.previousSibling;0!==l&&(d.bounds.left=f.bounds.right),l+=u,c.addChild(d)}while(l<o);c.children.forEach((function(e){e.lastChild.bounds.height=project.activeLayer.bounds.bottom-e.lastChild.bounds.top}));for(var w=0;w<10;w++){var v=c.children[Ce(c.children.length)],g=v.children[Ce(v.children.length)],C=g.bounds;switch(Ce(7)){case 1:var y=Math.min(C.width,C.height)/2,x=new Path.Circle(g.bounds.center,y-10);x.fillColor=g.fillColor?g.fillColor:Color.random(),x.fillColor.hue+=180;break;case 2:if(C.height<100)return;for(var M=5,B=M/3,T=5,E=new Group,k=45*xe(),I=0;I<T;I++)for(var S=[C.height-B*T]/T,P=0;P<T;P++){var D=[C.width-M*T]/T,j=new Path.Rectangle(C.topLeft,[M,B]);j.fillColor=g.fillColor?g.fillColor:Color.random(),j.fillColor.brightness-=.5,j.position.x+=P*M+P*D,j.position.y+=I*B+I*S,j.rotation=k,E.addChild(j)}E.bounds.center=C.center;case 3:var O=void 0,N=void 0,A=5;switch(C.width>C.height){case!0:O=C.width,N=A;break;default:N=C.height,O=A;break}var _=new Path.Rectangle(C.topLeft,[O,N]);xe()>0?_.fillColor="white":_.fillColor=Color(8,9,26,.5);break;case 4:var R=Ce(10)+10;switch(Ce(3)){case 0:C.top-=R;break;case 1:C.left-=R;break;case 3:C.right+=R;break;case 4:C.bottom+=R;break;default:break}break;case 5:var z=50*xe(),L=new Path.Rectangle(C.topLeft,C.size);L.fillColor=g.fillColor?g.fillColor:Color.random(),L.fillColor.brightness+=.2*xe(),L.scale(.9),ye(L.position,{x:z,y:z});case 6:var G=new Path.Line(C.topLeft,C.bottomRight);G.style={strokeColor:"#1d1d2f",strokeWidth:5,strokeCap:"round"},G.blendMode="darken",xe()>0?G.scale.x=1:G.scale.x=-1;break;default:g.rasterize().scale(1);break}}c.fitBounds(view.bounds),c.scale(1.5)},onHappy:function(e,t,n){paper.projects.forEach((function(t){t.name==e&&(t.activate(),project.clear())}));var a=Be(t),s=new Path.Rectangle([0,0],[view.bounds.width,view.bounds.height]);s.fillColor=a.clone(),s.fillColor.lightness-=.3;for(var o=new Group,i={x:Me(5,15*n)},r=1;r<i.x;r++){var c=new Path.Circle([0,0],i.x/r*30);c.fillColor=a.clone(),c.fillColor.hue+=10*ge.noise.perlin2(r/10,r/100),c.fillColor.lightness+=ge.noise.perlin2(r/10,r/100),o.addChild(c)}o.fitBounds(view.bounds)},onFear:function(e,t,n){null==n&&(n=3),n=Math.floor(10*[n-.4]),paper.projects.forEach((function(t){t.name==e&&(t.activate(),project.clear())}));var a=[project.view.bounds.width,project.view.bounds.height],s=a[0],o=a[1],i=view.bounds,r=Be(t),c=(new Group,Math.max(2,n)),l=Math.max(2,n),h=Math.min(s,o)/Math.min(c,l),d=0;s>o?c+=d:l+=d;for(var u=new Group,p=0;p<l;p++){r.saturation>.25&&(r.saturation-=.25);for(var m=0;m<c;m++){var b=r.clone();b.hue+=180,b.brightness>.5?b.brightness-=.5:b.brightness+=.5;var f=new Path.Rectangle([0,0],[h,h]);f.style={fillColor:xe()>0?r:b};var w=new Group;switch(Ce(4)){case 0:var v=Me(1.5,5),g=new Path.Rectangle([0,0],[h,h/v]);g.fillColor=xe()>0?b:r,g.bounds.center=f.bounds.center;var C=new Path.Rectangle([0,0],[h/v,h]);C.fillColor=xe()>0?b:r,C.bounds.center=f.bounds.center,g.blendMode="difference",C.blendMode="difference",w.addChild(g),w.addChild(C),w.rotation=xe()>0?45:0;break;case 1:var y=new Path.Circle(f.bounds.center,h/2.1);y.fillColor=xe()>0?b:r,y.bounds.center=f.bounds.center,w.addChild(y),y.blendMode="difference";var x=new Path.Circle(f.bounds.center,h/2.1);x.fillColor=xe()>0?b:r,xe()>0?x.bounds.top-=f.bounds.height/2*xe():x.scale(.8),w.addChild(x),x.blendMode="difference";var M=new Path.Circle(f.bounds.center,h/2.1);M.fillColor=xe()>0?b:r,xe()>0?M.bounds.left-=f.bounds.width/2*xe():M.scale(.8),w.addChild(M),M.blendMode="difference";break;case 2:var B=new Path.RegularPolygon(f.bounds.center,3,h/2);B.fillColor=xe()>0?r:b,B.fitBounds(f.bounds),B.bounds.bottom=f.bounds.bottom,B.blendMode="difference",xe()>0?w.addChild(B):B.remove();var T=new Path.RegularPolygon(f.bounds.center,3,h/2);T.fillColor=xe()>0?r:b,T.rotation=180,T.fitBounds(f.bounds),T.bounds.top=f.bounds.top,T.blendMode="difference",xe()>0?w.addChild(T):T.remove();break;default:break}var E=new Group(f.clone(),f,w);E.clipped=!0,E.position.x=m*h,E.position.y=p*h,u.addChild(E)}}u.fitBounds(i)},onSurprised:function(e,t,n){paper.projects.forEach((function(t){t.name==e&&(t.activate(),project.clear())}));for(var a=Be(t),s=new Group,o={x:2,y:2},i=0;i<o.y;i++)for(var r=0;r<o.x;r++){for(var c=15,l=new Group,h=function(e){ge.noise.seed(Math.random());var t=Path.Circle([0,0],10*e);t.strokeColor="red",t.bounds.center=view.bounds.center;for(var n=3*e,s=t.length,o=new Path,i=0;i<n;i++){var r=i/n*s,c=t.getPointAt(r);o.add(c)}t.remove(),o.segments.forEach((function(t,n){t.point.x+=ge.noise.perlin2(n/.5,n/5)*e,t.point.y+=ge.noise.perlin2(n/10,n/5)*e})),o.closed=!0,o.bounds.center.x+=ge.noise.perlin2(e/100,e/10)*e*10,o.bounds.center.y+=ge.noise.perlin2(e/10,e/100)*e*10,o.smooth("continous"),o.fillColor=a,o.fillColor.saturation-=.1,o.fillColor.hue+=100*ge.noise.perlin2(e/100,e/10),o.fillColor.saturation+=ge.noise.perlin2(e/100,e/10)/2,o.fillColor.brightness-=ge.noise.perlin2(e/100,e/10)/3,o.blendMode="hue",l.addChild(o)},d=1;d<c;d++)h(d);l.scale(2+3*ge.noise.perlin2(r/10,i/10)),l.position.x=view.bounds.center.x+1e3*ge.noise.perlin2(r/10,i/5),l.position.y=view.bounds.center.y+1e3*ge.noise.perlin2(r/3,i/10),s.addChild(l)}s.bounds.center=view.bounds.center;var u=new Path.Rectangle([0,0],view.bounds.size);u.sendToBack()}},Ee=Te;window.$=window.jQuery=n("1157");var ke={name:"GalleryCurve",mixins:[j.a],beforeRouteLeave:function(e,t,n){this.loopOff=!0,this.audioLightOn.pause(),this.clear(),this.loop&&clearInterval(this.loop),n()},components:{paper:w},data:function(){return{language:"EN",isEnglish:!0,muted:!0,firstBegin:!0,inViewport:{now:Boolean,fully:Boolean,above:Boolean,below:Boolean},scrollController:null,allowToUseCamera:!1,projectStart:null,isWatching:!1,loop:null,loopWeather:null,loopOff:!0,animateRun:!1,userIsNotActive:null,activeDetection:null,userIsActive:!0,autoHidden:!1,animateOff:!0,pageProgress:0,htmlText:{scene0:{introTitle:{en:"EMOTION FACTORY",cn:"EMOTION FACTORY"},introDesc:{en:"THE FEELING YOU SENSE THE WORLD, AND THE EMOTION YOU HAVE, WOULD AFFECT SURRONUNDINGS EVEN THE WORLD. IN THIS FACTORY, WE USE EMOTION AS MODIFIER TO GENERATE GRAPHIC, WHICH REFLECT POTENTIAL EMOTION. ",cn:"你对世界的感受和你感情可能会影响周边的事物，甚至整个世界。在情感工厂，我们使用感情作为修饰器，来生产图像并反应。以此来反应环境与感情的相互影响。"}},sceneA:{introTitle:{en:"FACE DETECTING WORKSHOP",cn:"面部识取车间"},desc1:{en:"XXX XX xXXX XX",cn:"此处需要描述"},title2:{en:"Facial detection",cn:"面部识取"},desc2:{en:"In Emotion Factory. Users expression will be tracked to produce Emotion-modifier which would be used to observe potential emotion, and the relationship between individuals emotion and environment.",cn:"在情感工厂中，用户的表情会被识取，并用于生成情感修饰器来进行观测，以探索情感和环境的相互影响。"},title3:{en:"External influences",cn:"外部影响"},desc3:{en:"Real-time environment information will be analyzed from Web API, and influence the production of picture.",cn:"实时的外部环境信息会通过网络接口得收集与分析，并影响图像的生成。"},title4:{en:"Temporature",cn:"温度"},desc4:{en:"Temporature would change the attitude of a location, it has strong impression so experiencer would easily imagine the colour of a temporature.",cn:"温度可能会改变人对一个环境的态度，它拥有强烈的印象，所以感受者可以简单带想象一个温度的颜色。"},title5:{en:"Weather",cn:"天气"},desc5:{en:"Different weather could have varying humidity, visibility and it would enhance the sense from temporature and affect emotion.",cn:"不同的天气会有不同的湿度或可视度，它会增强对温度的感受并对情感产生强烈的影响。"},title6:{en:"Social media",cn:"社交媒体"},desc6:{en:"Surroudings ideas or communication could potentially influence the emotion, which base on different topic or attitude. These content would be collected from real-time Twitter posts and be defined the positive degree by analyzed the vocabulary.",cn:"基于不同的话题和态度，周围的想法和交流会潜在地影响情感。这些内容会被从推特上收集并通过自然语言分析来判断实时的态度，是相对消极或积极。"}},sceneB:{introTitle:{en:"ENVIRONMENT INFO ANALYZE WORKSHOP",cn:"环境分析车间"},desc1:{en:"XXX XX xXXX XX",cn:"此处需要描述"},title2:{en:"Data collection",cn:"数据采集"},desc2:{en:"All of data are collected from Web API.",cn:"数据皆实时采集于公用服务器接口"},title3:{en:"Temporature",cn:"温度"},desc3:{en:"We are sensitive on feeling the temporature, and a comfortable temporature would defintedly make we be happier. Here, we collect the information of temporature, and synthesize it to our E-modifier which would influence the colour temporature. The feeling of temporature will be added to the key word of Idea collection.",cn:"我们对于温度的感觉很敏感，一个舒适的温度显然能使我们变得更开心。在这个流程，实时温度会被查询并用以改变图像的色温；人们对于温度的感受会被加入关键词以用于周边想法的收集。"},title4:{en:"Weather",cn:"天气"},desc4:{en:"Weather is easily be seen as a symbol which represent different emotion. In this detection, the type of weather will influence shapes in graphic generation.",cn:"天气很容易被视作一种符号以表示某种心情。在检测中，天气的种类会决定图像生成中图形的种类，并且也会用作于社交媒体搜索的关键词。"},title5:{en:"Social media",cn:"社交媒体"},desc5:{en:"Relate to current temporature and weather, others idea will be collected from Twitter as infomation supply",cn:"与当前温度和天气相关，附近的想法会被从社交媒体收集以用于补充信息的丰富度。"}},sceneC:{introTitle:{en:"MANIPULATING MODIFY WORKSHOP",cn:"手动调试车间"},desc0:{en:"XXX XX xXXX XX",cn:"此处需要描述"},title1:{en:"Modification workshop",cn:"修饰车间"},desc1:{en:"Push button to add specific emotion factors, and mix them with raw E-Modifier.",cn:"使用按钮来添加指定的情感因子，并与原始情感作用器混合。"},button0:{en:"Neutral",cn:"平淡"},button1:{en:"Happy",cn:"开心"},button2:{en:"Surprised",cn:"惊讶"},button3:{en:"Disgusted",cn:"反感"},button4:{en:"Angry",cn:"愤怒"},button5:{en:"Sad",cn:"悲伤"},button6:{en:"Fearful",cn:"恐惧"},button7:{en:"Compose",cn:"合成"}},sceneD:{introTitle:{en:"SCENE - IN THE METRO",cn:"场景 - 地铁中"},desc0:{en:"XXX XX xXXX XX",cn:"此处需要描述"}},sceneE:{introTitle:{en:"SCENE - IN THE GALLERY",cn:"场景 - 画廊"},desc0:{en:"XXX XX xXXX XX",cn:"此处需要描述"}}},sceneIntroA:!1,sceneIntroB:!1,sceneIntroC:!1,sceneIntroD:!1,sceneIntroE:!1,cameraLoading:!1,showEmotionA:!0,showEmotionB:!1,showEmotionB1:!1,showEmotionB2:!1,showEmotionB3:!1,showEmotion:!1,showSocialMedia:!1,showScreenA0:!1,showScreenA1:!1,showScreenA2:!1,showSceneBIntro:!1,showBarB:!1,showBarC:!1,showScreenB0:!1,showScreenB1:!1,showScreenB2:!1,showScreenB2open:!1,showTextAnalyzed:!1,boxesData:[],noFace:!0,takingPhoto:!1,drawActive:!1,video:null,detections:[],lastDetections:null,modification:{happy:0,neutral:0,sad:0,fearful:0,angry:0,suprised:0,disgusted:0},sortedFirstDetection:null,analyzedText:null,enterRoom:!1,ele:Object,ele2:Object,camera:null,cameraB:null,cameraC:null,cameraD:null,cameraE:null,cameraEControl:null,controls:null,controlsB:null,controlsC:null,controlsD:null,composer:null,frustum:null,lookAt:null,scene:null,sceneB:null,sceneC:null,sceneD:null,sceneE:null,inSceneA:!1,inSceneB:!1,inSceneC:!1,inSceneD:!1,sceneBgc:null,light:null,lightB:null,lightC:null,lightD:null,lightDG:null,lightE:null,renderer:null,renderer2:null,renderScene:null,filmPass:null,glitchPass:null,mesh:null,cpMesh:null,spritePerson:null,segmentsA:null,sceneBCube:null,faceA:null,meshTrack:null,spaceUsing:null,proceesed:null,sceneCCollection:null,dots:[],dots2:[],dotsIsUpdate:!1,dotsMixing:0,dotsTimer:null,steelMesh:null,steelMeshG:null,frameG:null,cars:null,trainTop:null,tvs:null,trainBodyTopTextureIndex:0,paperTexture:null,beginTowerTexture:!1,boxTexture:null,skyCanvases:[],skyTexture:null,videoTexture:null,personPngTexture:null,boxIndex:0,tvIndex:0,tvTextures:[],dynamicTextures:[],savedBoxes:[],clock:null,g:null,w:null,h:null,mouse:{x:.39,y:.13},textCollection:["good","cool","wooow","really","fantasitc","lucky","surprise","lovely","sad","upset","down","alone","fear","disgusting","cold","hate","boring","despair"],allPosts:[],weatherData:null,weatherFeeling:null,boxGridCoor:[],boxStack:null,camTweenA:null,camTweenB:null,webApiSvg:null,tempLevel:null,circleLine:null,currentWeatherImg:null,sceneCInput:null,loadADone:!1,loadBDone:!1,audioBgc:null,audioFlash:null,audioDida:null,audioLightOn:null,audioMachine:null,audioPop:null,audioPopB:null,audioTrain:null}},methods:{lang:function(e){return"EN"==this.language?e.en:e.cn},toggleLanguage:function(){"EN"==this.language?(this.language="CN",this.isEnglish=!1):(this.language="EN",this.isEnglish=!0)},check:function(e){this.cameraLoading=!0,this.allowToUseCamera=!this.allowToUseCamera},isMute:function(){this.muted=!this.muted},detectedFace:function(){if(this.detections)return this.detections.length},clear:function(){clearInterval(this.loop)},startVideo:function(){var e=this;this.video.play(),navigator.mediaDevices.getUserMedia({video:{}}).then((function(t){return e.video.srcObject=t})).catch((function(e){return console.error(e)}))},setBoxColor:function(e){return"background-color:hsl(".concat(360*e.hue,",").concat(100*e.saturation,"%,").concat(100*e.lightness,"%)")},initPaperTexture:function(){var e=function(e){return Math.floor(Math.random()*e)},t=document.createElement("CANVAS");t.id="textureCanvas",t.height=512,t.width=512,t.style.display="none",document.body.appendChild(t),w["setup"](t),w["project"].name="texts",this.boxTexture=new se["Gb"](t),this.boxTexture.wrapT=se["vb"],this.boxTexture.rotation=Math.PI/2,this.boxTexture.offset.x=-.3,this.boxTexture.repeat.y=-1;var n=new Path.Rectangle(0,0,w["view"].bounds.width,w["view"].bounds.height);n.fillColor="white";for(var a=40,s=0;s<a;s++){var o,i=10*Math.random()+5;o=this.allPosts?this.allPosts[e(this.allPosts.length)]:this.textCollection[e(this.textCollection.length)];var r=new PointText(new Point(0,0));r.position.y=10*s+3*Math.random(),r.position.x=0,r.fontSize=i,r.fillColor="black",r.content=o}},updateTowerTexture:function(){var e=function(e){return Math.floor(Math.random()*e)};w["projects"].forEach((function(e){"texts"==e.name&&e.activate()}));for(var t=project.activeLayer.children,n=0;n<t.length;n++)0!==n&&(t[n].position.x>512&&(t[n].content=this.allPosts[e(this.allPosts.length)],t[n].position.x=0-t[n].bounds.width/2),t[n].position.x+=n/30);this.boxTexture.needsUpdate=!0},initSkyTexture:function(){this.skyCanvases=[];for(var e=0;e<6;e++){var t=document.createElement("canvas");t.id="skyCanvas".concat(e),t.style.position="absolute",t.width=512,t.height=512,document.body.appendChild(t),w["setup"](t),w["project"].name="skyCanvas".concat(e);var n=new Path.Rectangle([0,0],[500,500]);n.fillColor="#D0D0F7",n.fitBounds(view.bounds);for(var a={x:6,y:2},s=0;s<a.y;s++)for(var o=0;o<a.x;o++){var i=new Path.Rectangle([0,view.bounds.center.y-55],[100,5]);i.fillColor="#CC6C2B",i.position.x+=o*[130],i.position.y+=s*[20]}this.skyCanvases.push(t)}this.skyTexture=new se["n"](this.skyCanvases),this.skyTexture.minFilter=se["bb"]},initThree:function(){var e=this,t=document.getElementById("threeBox");document.getElementById("threeBox2");this.w=t.clientWidth,this.h=t.clientHeight;var n=0,a=this.w/this.h,s=5;this.camera=new se["hb"](-a*s/2,a*s/2,1*s/2,-1*s/2,-1e3,1e3),this.camera.position.set(3,2,5),this.camera.updateMatrix(),this.camera.updateMatrixWorld();new ScrollMagic.Scene({triggerElement:"#triggerCameraZoomIn",duration:4*window.innerHeight}).addTo(this.scrollController).on("progress",function(e){this.camera.rotation.y=Math.PI/3-Math.PI*e.progress,this.camera.position.x=6-10*e.progress,this.camera.position.y=0-10*e.progress,this.camera.position.z=0+10*e.progress,this.camera.updateMatrix(),this.camera.updateMatrixWorld()}.bind(this)).on("enter",function(e){}.bind(this)),new ScrollMagic.Scene({triggerElement:"#triggerCameraZoomB"}).addTo(this.scrollController).on("enter",function(e){var t=this;this.showEmotion=!0;var n=this.camera.position,a=this.camera.rotation,s={px:n.x,py:n.y,pz:n.z,rx:a.x,ry:a.y,rz:a.z};this.camTweenA=new ie["a"].Tween(s).to({px:6,py:0,pz:0,rx:0,ry:1.5,rz:0},500).easing(ie["a"].Easing.Quadratic.InOut).onUpdate((function(){t.camera.position.set(s.px,s.py,s.pz),t.camera.rotation.set(s.rx,s.ry,s.rz),t.camera.updateMatrix(),t.camera.updateMatrixWorld()})).onComplete((function(){})),this.camTweenA.start()}.bind(this)).on("leave",function(e){var t=this,n=this.camera.position,a=this.camera.rotation,s={px:n.x,py:n.y,pz:n.z,rx:a.x,ry:a.y,rz:a.z};this.camTweenA=new ie["a"].Tween(s).to({px:6,py:0,pz:0,rx:0,ry:1.5,rz:0},500).easing(ie["a"].Easing.Quadratic.InOut).onUpdate((function(){t.camera.position.set(s.px,s.py,s.pz),t.camera.rotation.set(s.rx,s.ry,s.rz),t.camera.updateMatrix(),t.camera.updateMatrixWorld()})).onComplete((function(){})),this.camTweenA.start()}.bind(this)),new ScrollMagic.Scene({triggerElement:"#triggerCameraZoomA"}).addTo(this.scrollController).on("enter",function(e){var t=this,n=this.camera.position,a=this.camera.rotation,s={px:n.x,py:n.y,pz:n.z,rx:a.x,ry:a.y,rz:a.z};this.camTweenB=new ie["a"].Tween(s).to({px:-4.48,py:2.61,pz:3.37,rx:-.66,ry:-.8,rz:-.51},500).easing(ie["a"].Easing.Quadratic.InOut).onUpdate((function(){t.camera.position.set(s.px,s.py,s.pz),t.camera.rotation.set(s.rx,s.ry,s.rz),t.camera.updateMatrix(),t.camera.updateMatrixWorld()})),this.camTweenB.start()}.bind(this)).on("leave",function(e){var t=this,n=this.camera.position,a=this.camera.rotation,s={px:n.x,py:n.y,pz:n.z,rx:a.x,ry:a.y,rz:a.z};this.camTweenB=new ie["a"].Tween(s).to({px:-4.48,py:2.61,pz:3.37,rx:-.66,ry:-.8,rz:-.51},500).easing(ie["a"].Easing.Quadratic.InOut).onUpdate((function(){t.camera.position.set(s.px,s.py,s.pz),t.camera.rotation.set(s.rx,s.ry,s.rz),t.camera.updateMatrix(),t.camera.updateMatrixWorld()})),this.camTweenB.start()}.bind(this)),new ScrollMagic.Scene({triggerElement:"#triggerCameraLeaveA",duration:2*window.innerHeight}).addTo(this.scrollController).on("progress",function(e){e.progress>.8&&(this.showEmotionB=!1),e.progress<.8&&e.progress>.2?this.showEmotionB1=!0:this.showEmotionB1=!1,e.progress<.8&&e.progress>.4?this.showEmotionB2=!0:this.showEmotionB2=!1,e.progress<.8&&e.progress>.6?this.showEmotionB3=!0:this.showEmotionB3=!1}.bind(this)).on("enter",function(e){this.showEmotion=!1,"FORWARD"===e.scrollDirection?(this.enterRoom=!0,this.showEmotionA=!1,this.showEmotion=!1,this.showEmotionB=!0,this.segmentsA.visible=!0):(this.enterRoom=!1,this.showEmotionB=!0,this.loopOff=!1,this.segmentsA.visible=!1,this.renderScene.scene=this.scene,this.renderScene.camera=this.camera,this.controls.enabled=!0)}.bind(this)).on("leave",function(e){this.showEmotion=!1,"REVERSE"===e.scrollDirection?(this.enterRoom=!1,this.showEmotionA=!0,this.showEmotionB=!1,this.segmentsA.visible=!1):(this.loopOff=!0,this.renderScene.scene=this.sceneB,this.renderScene.camera=this.cameraB,this.controls.enabled=!1)}.bind(this)),new ScrollMagic.Scene({triggerElement:"#triggerSceneB",duration:2.5*window.innerHeight}).addTo(this.scrollController).on("progress",function(e){e.progress>0&&e.progress<.08?this.sceneIntroB=!0:this.sceneIntroB=!1,e.progress<.4&&e.progress>.07?(this.showSceneBIntro=!0,this.circleLine&&(this.circleLine.attr({"stroke-dashoffset":"".concat(1500*-Math.sin(e.progress)*8)}),this.webApiSvg.selectAll(".webApiBar").forEach((function(t,n){t.attr({width:"".concat(150*Math.abs(Math.sin(10*e.progress*ne.a.noise.perlin2(.3,n/10))))})})))):(this.showSceneBIntro=!1,this.circleLine&&(this.circleLine.attr({"stroke-dashoffset":"".concat(this.circleLine.getTotalLength())}),ne.a.noise.seed(Math.random()))),e.progress<.8&&e.progress>.4?this.showBarB=!0:(this.showBarB=!1,this.glitchPass.seed=e.progress,this.showScreenB2open=!1);for(var t=1;t<4;t++)e.progress<[1+t]/10+.1&&e.progress>t/10+.1?(this.loadBDone&&(this.sceneB.getObjectByName("screenA".concat(4-t-1)).material.emissiveIntensity=.8),this.loadBDone&&(this.sceneB.getObjectByName("screenA".concat(4-t-1)).material.color=new se["m"]("hsl(".concat(40*[t+1],",70%,70%)")))):this.loadBDone&&(this.sceneB.getObjectByName("screenA".concat(4-t-1)).material.emissiveIntensity=.1);for(var n=1;n<4;n++)if(e.progress<[n+.95]/10+.35&&e.progress>n/10+.35){1==n&&this.tempLevel&&this.tempLevel.attr("height")<10*[this.weatherData.data.main.temp-273.15]&&this.tempLevel.attr({height:"+=5",y:"-=5"}),this.loadBDone&&(this.sceneB.getObjectByName("screenB".concat(n-1)).material.emissiveIntensity=.5);var a=void 0;switch(n-1){case 0:a="#fc4a1a";break;case 1:a="#4abdac";break;case 2:a="#f7b733";break}this.loadBDone&&(this.sceneB.getObjectByName("screenB".concat(n-1)).material.emissive=new se["m"](a)),this["showScreenB".concat(n-1)]=!0}else this.loadBDone&&(this.sceneB.getObjectByName("screenB".concat(n-1)).material.emissiveIntensity=.1),this["showScreenB".concat(n-1)]=!1,2==n&&(this.showScreenB2open=!1),this.tempLevel&&this.tempLevel.attr("height")>10&&this.tempLevel.attr({height:"-=1",y:"+=1"});e.progress<.8&&(this.cameraB.position.y=2*e.progress,this.cameraB.position.z=1-2*e.progress,this.cameraB.position.x=10*e.progress*2,this.cameraB.rotation.y=Math.PI*e.progress),this.camera.updateMatrix(),e.progress<1&&e.progress>.8?this.sceneIntroC=!0:this.sceneIntroC=!1}.bind(this)).on("enter",function(e){this.initWeatherSvg(),this.getTextAnalyzed(),this.inSceneB=!0,"FORWARD"===e.scrollDirection&&(this.inSceneA=!1),this.showSocialMedia=!0,this.glitchPass.enabled=!0}.bind(this)).on("leave",function(e){this.inSceneB=!1,this.showSocialMedia=!1,this.glitchPass.enabled=!1,"REVERSE"===e.scrollDirection&&(this.glitchPass.enabled=!1)}.bind(this)),new ScrollMagic.Scene({triggerElement:"#triggerSceneC",duration:window.innerHeight}).addTo(this.scrollController).on("progress",function(e){e.progress<.5?(this.cameraC.position.y=50-50*[e.progress/.5],this.cameraC.lookAt(0,e.progress,0)):this.cameraC.position.y=0-30*[e.progress-.5],e.progress>0&&e.progress<.7?(this.dotsIsUpdate=!0,this.showBarC=!0):(this.dotsIsUpdate=!1,this.showBarC=!1),e.progress>.65&&e.progress<.7&&this.dots.forEach((function(e){e.unconcrete()})),this.cameraC.updateMatrix()}.bind(this)).on("enter",function(e){var t=this;if(this.filmPass.enabled=!1,this.inSceneC=!0,0==this.dots.length)for(var n=0;n<Math.floor(50);n++)setTimeout((function(){var e={x:2,y:-1,z:10},n=new he.Dot(t.sceneC,"dots",e,Math.abs([500-t.dotsMixing])/2,"btn-neutral");n.draw(),t.dots.push(n)}),100*n);"FORWARD"===e.scrollDirection&&this.dots.forEach((function(e){e.unconcrete()})),this.renderScene.scene=this.sceneC,this.renderScene.camera=this.cameraC}.bind(this)).on("leave",function(e){this.showBarC=!1,this.inSceneC=!1,this.filmPass.enabled=!0,"REVERSE"===e.scrollDirection&&(this.renderScene.scene=this.sceneB,this.renderScene.camera=this.cameraB),this.dotsIsUpdate=!1}.bind(this)),new ScrollMagic.Scene({triggerElement:"#triggerSceneD",duration:3*window.innerHeight}).addTo(this.scrollController).on("enter",function(e){this.filmPass.enabled=!0,this.lightDG.visible=!0,this.inSceneD=!0,this.renderScene.scene=this.sceneD,this.renderScene.camera=this.cameraD,this.sceneD.background=new se["m"]("black"),0==this.muted&&this.audioTrain.play()}.bind(this)).on("leave",function(e){this.inSceneD=!1,this.lightDG.visible=!1,this.audioTrain.pause(),this.filmPass.enabled=!1}.bind(this)).on("progress",function(e){e.progress<.2?this.cameraD.position.y=10-8*[e.progress/.2]:(this.cameraD.position.y=Math.max(2,10-8*[e.progress/.2]),this.cameraD.position.x=-95*[e.progress-.2]),e.progress>0&&e.progress<.18?this.sceneIntroD=!0:this.sceneIntroD=!1}.bind(this)),new ScrollMagic.Scene({triggerElement:"#triggerSceneE",duration:3*window.innerHeight}).addTo(this.scrollController).on("enter",function(e){var t=this;this.inSceneE=!0,this.renderScene.scene=this.sceneE,this.renderScene.camera=this.cameraE,this.tvs.children.forEach((function(e,n){var a,s;e.getObjectByName("Lface")?(a=e.getObjectByName("Lface"),s=!0):(a=e.getObjectByName("Sface"),s=!1);var o=t.createNewTextureD(n,s),i=new se["Gb"](o);i.wrapS=se["vb"],i.wrapT=se["vb"],i.needsUpdate=!0,a.material=new se["Y"]({map:i,emissiveMap:i,emissiveIntensity:.3,emissive:16777215})}))}.bind(this)).on("leave",function(e){this.inSceneE=!1,e.scrollDirection}.bind(this)).on("progress",function(e){e.progress>.01&&e.progress<.3?(this.cameraE.position.y=10-3*[e.progress/.3],this.cameraEControl.rotation.y=[1-e.progress/.3]*Math.PI/8):this.cameraE.position.z=300*[e.progress-.3],this.cameraE.updateMatrix(),this.cameraE.updateMatrixWorld(),e.progress>0&&e.progress<.18?this.sceneIntroE=!0:this.sceneIntroE=!1}.bind(this));this.frustum=new se["A"],this.frustum.setFromMatrix((new se["T"]).multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse)),this.scene=new se["wb"],this.scene.background=new se["m"]("hsl(".concat(360*Math.random(),",21%,10%)"));var o=new se["m"];this.scene.background.getHSL(o),this.sceneBgc=o,this.scene.fog=new se["y"](1907752,1,100),this.sceneB=this.scene.clone(),this.cameraB=new se["hb"](-a*s/2,a*s/2,1*s/2,-1*s/2,-1e3,1e3),this.cameraB.position.set(.5,0,0),this.cameraB.updateMatrix(),this.cameraB.updateMatrixWorld();new se["e"](100),new se["e"](100);this.lightB=new se["kb"]({color:16777215*Math.random(),intensity:.3}),this.lightB.rotation.z=Math.PI/2;new se["lb"](this.lightB,5);this.lightB.position.set(0,4,0),this.lightB.rotation.x-=Math.PI/2,this.sceneB.add(this.lightB);var i=(new se["Hb"]).load("models/sceneB.png"),r=new se["Eb"]({map:i,color:16777215,opacity:.8}),c=new se["Db"](r);c.scale.set(2,2,1),c.position.set(-15,1,0);for(var l=1;l<7;l++)for(var h=1;h<5;h++){var d=c.clone();d.position.y+=l/100,d.position.x-=10*h,l%2==0?d.position.z-=1*l:d.position.z+=1*l,this.sceneB.add(d)}this.sceneC=this.scene.clone(),this.sceneC.fog.color=new se["m"](16777215),this.cameraC=new se["ib"](25,t.clientWidth/t.clientHeight,1,1e3),this.cameraC.position.set(0,50,10),this.cameraC.lookAt(0,0,0),this.cameraC.updateMatrix(),this.cameraC.updateMatrixWorld();var u,p=function(){return Math.random()>.5?1:-1};this.sceneD=this.scene.clone(),this.sceneD.fog=new se["y"](9278358,1,200),this.cameraD=new se["ib"](65,t.clientWidth/t.clientHeight,1,1e3),this.cameraD.position.set(0,10,0),this.cameraD.lookAt(-30,10,2),this.cameraD.updateMatrix(),this.cameraD.updateMatrixWorld(),window.addEventListener("mousedown",function(e){var t=this;this.inSceneD&&(u=setInterval((function(){var e={x:10+50*Math.random(),y:6*Math.random(),z:[10+20*Math.random()]*p()},n=new he.Dot2(t.sceneD,"dots",e,1);t.dots2.push(n),n.draw()}),30))}.bind(this)),window.addEventListener("mouseup",function(e){u&&clearInterval(u)}.bind(this)),this.sceneE=this.scene.clone(),this.sceneE.fog=new se["y"](9278358,1,100),this.cameraE=new se["ib"](55,t.clientWidth/t.clientHeight,1,2e3),this.cameraE.position.set(25,10,0),this.cameraEControl=new se["B"],this.sceneE.add(this.cameraEControl),this.cameraEControl.add(this.cameraE),this.cameraEControl.rotation.y=.01*Math.PI/8,this.cameraE.lookAt(0,9,0),this.cameraE.updateMatrix(),this.cameraE.updateMatrixWorld();for(var m=0;m<10;m++)for(var b=0;b<3;b++){var f=new se["tb"](16777147,1,5,1);f.position.z=10*m,f.position.x=-20,f.position.y=25*b-30,f.rotation.y=-Math.PI/2;var w=new se["ub"](f);f.add(w),this.sceneE.add(f)}this.lightE=new se["c"](16777215,.2);var v=new se["kb"](16777215,.5);v.position.y=15,v.castShadow=!0,this.sceneE.add(this.lightE,v);var g=document.querySelectorAll(".sceneC-button");g.forEach((function(t){t.addEventListener("mousedown",function(e){var t=this;this.dotsTimer&&clearInterval(this.dotsTimer),this.dots.forEach((function(e){e.concrete()})),this.dotsIsUpdate&&(this.dotsTimer=setInterval((function(){t.dotsMixing+=5,t.sceneCInput.attr({width:"+=5"}),t.dotsMixing>100&&t.sceneCInput.attr({fill:"#ED732F"})}),10))}.bind(e)),t.addEventListener("mouseup",function(e){var t=this;this.dots.forEach((function(e){e.unconcrete()}));var n={val:this.sceneCInput.attr("width")},a=(new ie["a"].Tween(n).to({val:0},500).easing(ie["a"].Easing.Quadratic.In).onUpdate((function(){t.sceneCInput.attr({width:n.val})})).start(),0);if(this.dots.length>200&&0==a){for(var s=function(){var e=Object(K["a"])(i[o],2),n=e[0],a=e[1],s={val:a};new ie["a"].Tween(s).to({val:0},1e3).onUpdate((function(){t.modification[n]=s.val})).start()},o=0,i=Object.entries(this.modification);o<i.length;o++)s();this.dots.slice(0,this.dots.length).forEach((function(e,n){var s={val:e.mesh.scale.x};new ie["a"].Tween(s).to({val:.1},500).delay(10*n).easing(ie["a"].Easing.Quadratic.In).onUpdate((function(){e.mesh.scale.set(s.val,s.val,1),e.mesh.updateMatrix()})).onComplete((function(){t.sceneC.remove(e.mesh),t.dots.shift(),a++,19==a&&(a=0)})).start()}))}if(this.dotsTimer&&clearInterval(this.dotsTimer),this.dotsMixing>100)for(var r=0;r<Math.floor(this.dotsMixing/10);r++)setTimeout((function(){var n={x:2,y:-1,z:10},a=new he.Dot(t.sceneC,"dots",n,Math.abs([500-t.dotsMixing])/2,e.target.getAttribute("name"));switch(a.draw(),e.target.getAttribute("name")){case"btn-neutral":t.modification.neutral+=.01;break;case"btn-happy":t.modification.happy+=.01;break;case"btn-sad":t.modification.sad+=.01;break;case"btn-surprised":t.modification.surprised+=.01;break;case"btn-angry":t.modification.angry+=.01;break;case"btn-disgusted":t.modification.disgusted+=.01;break;case"btn-fearful":t.modification.fearful+=.01;break}0==t.muted&&t.audioPop.play(),t.dots.push(a)}),100*r);this.sceneCInput.attr({fill:"#C1272D"}),this.dotsMixing=0}.bind(e))})),document.querySelector("#sceneCCompose").addEventListener("mousedown",function(e){this.dots.forEach((function(e){e.concrete()}))}.bind(this)),document.querySelector("#sceneCCompose").addEventListener("mouseup",function(e){var t=this,n=0;if(this.dots.length>100&&0==n){this.dots.slice(0,this.dots.length).forEach((function(e,a){var s={val:e.mesh.scale.x};new ie["a"].Tween(s).to({val:.1},500).delay(10*a).easing(ie["a"].Easing.Quadratic.In).onUpdate((function(){e.mesh.scale.set(s.val,s.val,1),e.mesh.updateMatrix()})).onComplete((function(){t.sceneC.remove(e.mesh),t.dots.shift(),n++,19==n&&(n=0)})).start()}));for(var a=function(){var e=Object(K["a"])(o[s],2),n=e[0],a=e[1],i=a,r={val:a};new ie["a"].Tween(r).to({val:0},1e3).onUpdate((function(){t.modification[n]=r.val})).onComplete((function(){t.lastDetections["expressions"][n]+=i})).start()},s=0,o=Object.entries(this.modification);s<o.length;s++)a()}}.bind(this));new se["e"](100);this.sceneCCollection=new se["B"],this.sceneC.add(this.sceneCCollection),this.lightC=new se["kb"]({color:new se["m"](16777215)}),this.lightC.position.x=3,this.lightC.position.y=3,this.lightC.position.z=6;var C=new se["tb"](16777147,1,5,.5);C.rotation.y=-Math.PI/2,C.position.x=-15,C.position.y=2;for(var y=0;y<8;y++){var x=C.clone();x.position.z=y<4?6*y:6*-y;w=new se["ub"](x);x.add(w),x.position.y+=.5,this.scene.add(x),this.sceneB.add(x.clone())}this.light=new se["r"](16777215,.5,100),this.light.castShadow=!0,this.light.mapSizeHeight=this.light.mapSizeWidth=1024,this.light.position.set(20,2,20),this.light.intensity=.05;var M=new se["h"](1,1,1),B=new se["W"]({emissive:16777215,emissiveIntensity:.15});B.needsUpdate=!0,this.mesh=new se["U"](M,B),this.mesh.name="box",this.mesh.castShadow=!0,this.mesh.position.y+=8,this.mesh.position.z-=5;var T=new se["U"](M,B.clone());T.material.color=new se["m"]("red"),T.position.y=-6;var E=new ue["a"];E.load("models/goodTrack.gltf",function(e){var t=(new se["g"]).setFromObject(e.scene.getObjectByName("face")),n=new se["Nb"];t.getSize(n);var a=new se["B"];a.name="machine",a.add(e.scene.getObjectByName("tube")),a.add(e.scene.getObjectByName("side")),a.add(e.scene.getObjectByName("face")),a.add(e.scene.getObjectByName("desk")),a.add(e.scene.getObjectByName("pc")),a.add(e.scene.getObjectByName("screen")),a.add(e.scene.getObjectByName("handler")),a.add(e.scene.getObjectByName("wheel")),a.add(e.scene.getObjectByName("wheel2")),a.add(e.scene.getObjectByName("wheel+")),a.add(e.scene.getObjectByName("wheel2+")),a.add(e.scene.getObjectByName("wheel3")),a.add(e.scene.getObjectByName("wheel4")),a.add(e.scene.getObjectByName("wheel5")),a.add(e.scene.getObjectByName("wheel6")),a.position.y-=n.y-.1,this.scene.add(a),this.scene.getObjectByName("side").material=new se["Y"]({color:16777215*Math.random()}),this.scene.getObjectByName("face").material=new se["Y"]({color:2897722}),this.scene.getObjectByName("screen").material=new se["Y"]({emissive:16777215,emissiveIntensity:.15}),this.scene.getObjectByName("desk").material=new se["Y"]({color:1184026}),this.scene.getObjectByName("face").receiveShadow=!0,this.scene.getObjectByName("side").receiveShadow=!0}.bind(this));var k=new ue["a"];k.load("models/scene2Models.gltf",function(e){var t=new se["B"];t.name="server";var n=e.scene.getObjectByName("Cube");this.faceA=e.scene.getObjectByName("faceA"),n.material=new se["W"]({color:5001041}),this.faceA.material=new se["Y"]({emissive:16519680}),t.add(n),t.add(this.faceA),t.add(e.scene.getObjectByName("faces")),t.add(e.scene.getObjectByName("lights"));var a=new se["B"];a.name="tv",a.add(e.scene.getObjectByName("monitor")),a.add(e.scene.getObjectByName("screenA")),this.sceneB.add(t.clone());for(var s=0;s<3;s++){var o=a.clone();o.position.z=3*-s,o.getObjectByName("screenA").material=new se["Y"]({emissive:"red",emissiveIntensity:1}),this.sceneB.add(o),o.getObjectByName("screenA").name="screenA".concat(s)}for(var i=0;i<3;i++){var r=a.clone();r.position.z=6+3*i,r.getObjectByName("screenA").material=new se["Y"]({emissive:"red",emissiveIntensity:.1}),this.sceneB.add(r),r.getObjectByName("screenA").name="screenB".concat(i)}this.sceneB.getObjectByName("screenB2").material.map=this.boxTexture,this.sceneB.getObjectByName("lights").material=new se["Y"]({color:16777215}),this.sceneB.getObjectByName("faces").material=new se["Y"]({emissive:"red",emissiveIntensity:.15}),this.sceneB.getObjectByName("monitor").receiveShadow=!0,this.sceneB.getObjectByName("Cube").receiveShadow=!0,this.loadBDone=!0}.bind(this));var I=new ue["a"];I.load("models/scene3Models.gltf",function(e){this.sceneB.add(e.scene.getObjectByName("disk"));var t=e.scene.getObjectByName("frame");t.material=new se["W"]({color:5263446}),this.sceneBCube=e.scene.getObjectByName("cubeB"),this.sceneB.add(this.sceneBCube),this.sceneB.add(e.scene.getObjectByName("diskLight")),this.sceneB.add(e.scene.getObjectByName("diskLights")),this.sceneB.getObjectByName("cubeB").rotation.x=Math.PI/2,this.sceneB.getObjectByName("cubeB").rotation.z=-Math.PI/4,this.sceneB.getObjectByName("cubeB").material=new se["W"]({map:this.boxTexture,emissive:"blue",emissiveIntensity:.3}),this.sceneB.getObjectByName("disk").material=new se["Y"]({color:"grey"}),this.sceneB.getObjectByName("diskLights").material=new se["Y"]({emissive:"blue",emissiveIntensity:1});var n=new se["kb"]({color:"blue",intensity:.1});n.position.set(this.sceneB.getObjectByName("diskLight").position.x-5,this.sceneB.getObjectByName("diskLight").position.y+5,this.sceneB.getObjectByName("diskLight").position.z);var a=new se["lb"](n);this.sceneB.add(a),this.sceneB.add(n)}.bind(this));var S=new ue["a"];S.load("models/tube.gltf",function(e){this.frameG=new se["B"],this.cars=new se["B"];var t=e.scene.getObjectByName("trainBody"),n=e.scene.getObjectByName("trainBodyConnection"),a=e.scene.getObjectByName("trainWheel");this.trainTop=e.scene.getObjectByName("trainBodyTop");var s=e.scene.getObjectByName("trainBodyTopSide"),o=e.scene.getObjectByName("trainBodyGnd"),i=e.scene.getObjectByName("trainDoor"),r=e.scene.getObjectByName("lightBody"),c=e.scene.getObjectByName("lightFace"),l=e.scene.getObjectByName("fushou"),h=e.scene.getObjectByName("chiars"),d=e.scene.getObjectByName("chiarsFace"),u=e.scene.getObjectByName("lightBody2"),p=((new se["Hb"]).load("models/sceneDpatternA.png"),new se["m"](16777215*Math.random()));h.material=new se["W"]({color:p}),d.material=new se["W"]({color:new se["m"](3888218)}),i.material=new se["W"]({color:12574696}),l.material=new se["Y"]({color:"grey"}),t.material=new se["W"]({color:"grey"}),o.material=new se["W"]({color:13426656}),n.material=new se["W"]({color:3948111}),s.material=new se["W"]({emissive:10083837,emissiveIntensity:.5}),this.trainTop.material=new se["Y"]({color:p,emissiveIntensity:.3}),t.receiveShadow=!0,o.receiveShadow=!0,t.castShadow=!0,h.receiveShadow=!0,i.receiveShadow=!0,i.castShadow=!0,d.receiveShadow=!0,h.castShadow=!0,i.castShadow=!0,c.material=new se["Y"]({emissive:10083837,color:10083837}),u.material=new se["Y"]({emissive:16088901}),this.frameG.add(t,a,n,this.trainTop,s,o,i,r,u,c,l,h,d);var m=(new se["g"]).setFromObject(this.frameG),b=new se["Nb"];m.getSize(b);var f=new se["c"](16250342,.25);f.position.x-=b.x/2,f.position.z=-1,this.sceneD.add(f),this.lightDG=new se["B"],this.sceneD.add(this.lightDG);for(var w=1;w<4;w++){var v=new se["r"](16777215,.3,10);v.castShadow=!0,v.position.set(-w*b.x/3,5,7),this.lightDG.add(v)}for(var g=1;g<11;g++){var C=new se["tb"](16777215,1,5,1),y=new se["ub"](C);g<6?(C.position.set(-g*b.x,2,5),C.rotation.y=2*Math.PI):(C.position.set(-[g-5]*b.x,2,-5),C.rotation.y=Math.PI),C.add(y),this.lightDG.add(C)}for(var x=0;x<3;x++){var M=this.frameG.clone();M.position.x-=b.x*x;for(var B=0;B<10;B++){var T=(new se["Hb"]).load("models/personSlice3.png"),E=new se["Eb"]({map:T,color:new se["m"]("hsl(".concat(1e3*Math.abs(ne.a.noise.perlin2([B+1]/10,10*[x+1]/50)),",30%,70%)"))}),k=new se["Db"](E);k.scale.set(2.5,2.5,1),k.position.y=1.2,k.position.x=ne.a.noise.perlin2(B/5,x/10)*b.x-[x*b.x],k.position.z=-3*ne.a.noise.perlin2(B/10,x/5)-1,this.sceneD.add(k)}this.cars.add(M)}this.sceneD.add(this.cars)}.bind(this));var P=new ue["a"];P.load("models/scene6Models.gltf",function(e){var t=this,n=new se["B"],a=new se["B"];this.tvs=new se["B"],this.sceneE.add(this.tvs);var s=e.scene.getObjectByName("Lframe");s.castShadow=!0,s.receiveShadow=!0,s.material=new se["W"]({color:0});var o=e.scene.getObjectByName("Lface"),i=e.scene.getObjectByName("Sframe"),r=e.scene.getObjectByName("Sface");i.castShadow=!0,i.receiveShadow=!0,i.material=new se["W"]({color:0}),n.add(s,o),a.add(i,r);for(var c=1;c<3;c++)for(var l=1;l<3;l++)for(var h=1;h<15;h++){var d=void 0,u=void 0,p=new se["Nb"];Math.random()>.5?(d=n.clone(),u=d.getObjectByName("Lface")):(d=a.clone(),u=d.getObjectByName("Sface"));var m=1+10*ne.a.noise.perlin3(c/30,l/100,h/50);d.scale.set(m,m,m);var b=(new se["g"]).setFromObject(d);b.getSize(p);var f=function(e,t,n,a){var s=e+n*Math.cos(a*Math.PI/2),o=t+n*Math.sin(a*Math.PI/2);return{x:s,y:o}};f(-5,-5,2,2*Math.PI/16*[c*h]);d.position.set(0,0,0),d.position.set(2*c*p.z,3+l*p.y,2*[h-1]*p.z*m),u.material=new se["Y"]({emissive:"red"}),this.tvs.add(d)}this.tvs.children.forEach((function(e,n){var a,s;e.getObjectByName("Lface")?(a=e.getObjectByName("Lface"),s=!0):(a=e.getObjectByName("Sface"),s=!1);var o=t.createNewTextureD(n,s),i=new se["Gb"](o);i.wrapS=se["k"],i.wrapT=se["vb"],i.needsUpdate=!0,a.material=new se["Y"]({map:i,emissiveMap:i,emissiveIntensity:.3,emissive:1048575})}))}.bind(this));var D=(new se["Hb"]).load("models/personSlice.png"),j=new se["Eb"]({map:D,color:16777215});this.spritePerson=new se["Db"](j),this.spritePerson.position.x+=3,this.spritePerson.position.y+=-.7,this.spritePerson.position.z=5,this.spritePerson.scale.set(2.7,2.7,1);for(var O=0;O<10;O++){var N=this.spritePerson.clone();N.position.z+=3*O,this.scene.add(N)}var A=(new se["Hb"]).load("models/segmentA.png"),_=new se["Eb"]({map:A,color:16777215,transparent:!0}),R=new se["Db"](_);this.segmentsA=new se["B"],this.segmentsA.visible=!1,this.segmentsA.position.y+=15,this.scene.add(this.segmentsA);for(var z=0;z<10;z++)for(var L=0;L<10;L++)for(var G=0;G<10;G++){var F=R.clone();F.material.opacity=ne.a.noise.perlin3(G/30,L/30,z/30),F.position.x+=100*ne.a.noise.perlin3(G/100,L/10,z/10),F.position.y+=100*ne.a.noise.perlin3(G/10,L/100,z/10),F.position.z+=100*ne.a.noise.perlin3(G/10,L/10,z/100),F.scale.set(Math.random(),Math.random(),1),this.segmentsA.add(F)}var H=new se["jb"](100,100),W=new se["Y"]({color:1184026,side:se["s"],envMap:this.skyTexture}),U=new se["U"](H,W);U.name="gnd",U.receiveShadow=!0,U.rotation.x=Math.PI/2,U.position.y-=2,this.g=new se["B"],this.scene.add(this.g),this.scene.add(this.light),this.renderer=new se["Rb"]({alpha:!1}),this.renderer.setSize(t.clientWidth-n,t.clientHeight-n),this.renderer.shadowMap.enabled=!0,this.renderer.autoClearColor=!0,this.renderer.domElement.id="cameraDOM",t.appendChild(this.renderer.domElement),this.clock=new se["l"],window.addEventListener("mousemove",(function(t){e.mouse.x=t.clientX/e.w*2-1,e.mouse.y=-t.clientY/e.h*2+1}),!1),this.controls=new de["a"](this.camera,this.renderer.domElement),this.controlsD=new de["a"](this.cameraD,this.renderer.domElement),this.controlsD.enableZoom=!1,this.controlsD.maxPolarAngle=.5*Math.PI,this.controlsD.minAzimuthAngle=Math.PI/2,this.controlsD.enabled=!1,this.cameraD.position.set(0,10,0),this.cameraD.lookAt(-30,10,2),this.cameraD.updateMatrix(),this.cameraD.updateMatrixWorld(),this.controls.maxPolarAngle=.5*Math.PI,this.controls.minDistance=1,this.controls.maxDistance=13,this.controls.enableZoom=!1;var X={exposure:.5,bloomStrength:.28,bloomThreshold:0,bloomRadius:0};this.renderScene=new me["a"](this.scene,this.camera);var Y=new be["a"](new se["Mb"](window.innerWidth,window.innerHeight),1.5,.4,.85);Y.threshold=X.bloomThreshold,Y.strength=X.bloomStrength,Y.radius=X.bloomRadius;var V=new fe["a"](this.scene,this.camera,this.w,this.h);V.kernelRadius=32,V.output=fe["a"].OUTPUT.Default,V.kernelRadius=32,V.minDistance=.02,V.maxDistance=.3,this.composer=new pe["a"](this.renderer),this.composer.addPass(this.renderScene),this.composer.addPass(Y),this.glitchPass=new we["a"],this.glitchPass.enabled=!1,this.composer.addPass(this.glitchPass),this.filmPass=new ve["a"](.1,.015,23,!1),this.composer.addPass(this.filmPass)},slice:function(e){if(e)return Object.entries(e["expressions"]).sort((function(e,t){return t[1]-e[1]})).slice(0,3)},slice2:function(e){if(e)return Object.entries(e).sort((function(e,t){return t[1]-e[1]})).slice(0,3)},processColor:function(e){var t=0,n=0,a=0,s=[];e.forEach((function(e){e=Object.entries(e["expressions"]).sort((function(e,t){return t[1]-e[1]})).slice(0,3);var t=[],n=[];e.forEach((function(e){var a=0,s=0,o=0;switch(e[0]){case"neutral":a=0,s=e[1]/3,o=.3;break;case"angry":a=.4,s=2*e[1],o=.65;break;case"surprised":a=.3,s=e[1],o=.85;break;case"sad":a=.6,s=5*e[1],o=.25;break;case"disgusted":a=.8,s=3*e[1],o=.4;break;case"happy":a=.1,s=e[1],o=.75;break;case"fearful":a=.7,s=8*e[1],o=.3;break}var i=a*s;t.push(i),n.push(o)}));for(var a={hue:0,saturation:0,lightless:0},o=0,i=t;o<i.length;o++){var r=i[o];a.hue+=r}a.hue/=t.length,a.saturation=Math.max.apply(Math,n),a.lightless=Math.max.apply(Math,n),s.push(a)}));for(var o=0,i=s;o<i.length;o++){var r=i[o];t+=r.hue,n+=r.saturation,a+=r.lightless}return t/=s.length,n/=s.length,a/=s.length,{hue:t,saturation:n,lightness:a}},tweenChange:function(e){var t=this;a&&a.stop(),this.proceesed=this.processColor(this.detections);var n=new se["m"];e.color.getHSL(n);var a=new ie["a"].Tween(n).to({h:this.proceesed.hue,s:this.proceesed.saturation,l:.5},500).easing(ie["a"].Easing.Quadratic.In).onUpdate((function(){var e;(e=t.light.color).setHSL.apply(e,Object(q["a"])(Object.values(n)))}));a.start()},movingBox:function(e,t){var n=this,a=this.spritePerson.clone();this.scene.add(a),this.audioLightOn.pause();var s=e.position,o=a.position,i=(e.scale,new ie["a"].Tween(s).to({y:0},500).easing(ie["a"].Easing.Bounce.InOut).onUpdate((function(){e.position=s})).onComplete((function(){n.light.intensity=.7,!1===n.muted&&n.audioDida.play(),r&&!n.allowToUseCamera&&r.start(),n.beginTowerTexture=!0,setTimeout((function(){c.start()}),1500)}))),r=new ie["a"].Tween(o).to({z:"-1"},500).easing(ie["a"].Easing.Bounce.InOut).onUpdate((function(){a.position=o})).onComplete((function(){l.start()})),c=new ie["a"].Tween(s).to({z:"+5"},3e3).easing(ie["a"].Easing.Quadratic.In).onUpdate((function(){e.position=s,n.scene.getObjectByName("wheel").rotation.x+=1/60,n.scene.getObjectByName("wheel2").rotation.x+=1/55,n.scene.getObjectByName("wheel+").rotation.x+=1/60,n.scene.getObjectByName("wheel2+").rotation.x+=1/55})).onComplete((function(){setTimeout((function(){var t=e.material.clone();e.material=t,h.start()}),1500)})),l=new ie["a"].Tween(o).to({z:"-3.5"},3e3).easing(ie["a"].Easing.Quadratic.In).onUpdate((function(){a.position=o})).onComplete((function(){setTimeout((function(){d.start()}),1500)})),h=new ie["a"].Tween(s).to({x:"-2"},1e3).easing(ie["a"].Easing.Quadratic.In).onUpdate((function(){e.position=s})).onComplete((function(){p.start(),n.noFace&&setTimeout((function(){}),2e3)})),d=new ie["a"].Tween(o).to({z:"-5"},1e3).easing(ie["a"].Easing.Quadratic.Out).onUpdate((function(){a.position=o})).onComplete((function(){n.scene.remove(a)})),u=this.boxGridCoor[t],p=new ie["a"].Tween(s).to({y:"+".concat(u.y)},1e3).easing(ie["a"].Easing.Quadratic.In).onUpdate((function(){e.position=s})).onComplete((function(){m.start()})),m=new ie["a"].Tween(s).to({z:"+".concat(u.z)},1e3).easing(ie["a"].Easing.Quadratic.In).onUpdate((function(){e.position=s})).onComplete((function(){b.start()})),b=new ie["a"].Tween(s).to({x:"-".concat(u.x)},1e3).easing(ie["a"].Easing.Quadratic.In).onUpdate((function(){e.position=s})).onComplete((function(){n.boxStack.add(e),18===n.boxStack.children.length&&w.start()})),f=this.boxStack.position,w=new ie["a"].Tween(f).to({y:15},1e3).easing(ie["a"].Easing.Quadratic.In).onUpdate((function(){n.boxStack.position=f})).onComplete((function(){var e=n.boxStack.clone();e.position.y=0,n.scene.remove(n.boxStack),n.boxStack=new se["B"],n.scene.add(n.boxStack)}));i.start()},createGridIndex:function(){var e={x:2,y:3,z:3},t=.05;this.boxGridCoor=[];for(var n=0;n<e.z;n++)for(var a=e.x;a>0;a--)for(var s=0;s<e.y;s++){var o={};o.x=a+t*a+1,o.y=s+t*s,o.z=n+t*n+1,this.boxGridCoor.push(o)}this.boxStack=new se["B"],this.scene.add(this.boxStack)},createNewTexture:function(){var e,t;this.detections.length>0?(this.proceesed=this.processColor(this.detections),e=Object.entries(this.detections[0]["expressions"]).sort((function(e,t){return t[1]-e[1]})).slice(0,3)[0][0],t=Object.entries(this.detections[0]["expressions"]).sort((function(e,t){return t[1]-e[1]})).slice(0,3)[0][1]):(this.proceesed={hue:Math.random(),saturation:Math.random(),lightness:Math.random()},e="neutral",t="0.9");var n=document.createElement("canvas");n.id="canvas-".concat(this.boxIndex),n.height=512,n.width=512,n.style.display="none",document.body.appendChild(n),w["setup"](n);var a="dynamicTexture".concat(this.boxIndex);switch(w["project"].name=a,e){case"happy":Ee.onHappy(a,this.proceesed,t);break;case"neutral":Ee.onNeutral(a,this.proceesed,t);break;case"sad":Ee.onSad(a,this.proceesed,t);break;case"surprised":Ee.onSurprised(a,this.proceesed,t);break;case"disgusted":Ee.onDisgusted(a,this.proceesed,t);break;case"fearful":Ee.onFear(a,this.proceesed,t);break;default:Ee.onSurprised(a,this.proceesed,t);break}return n},createNewTextureD:function(e){var t,n,a;arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.detections.length>0){this.proceesed=this.processColor([this.lastDetections]),t=Object.entries(this.detections[0]["expressions"]).sort((function(e,t){return t[1]-e[1]})).slice(0,3)[0][0];var s=[],o=[];for(var i in this.slice(this.lastDetections))s.push(this.slice(this.lastDetections)[i][0]),o.push(this.slice(this.lastDetections)[i][1]);a=s;var r=Math.random()*a.length;t=a[Math.floor(r)],n=o[Math.floor(r)]}else this.proceesed={hue:Math.random(),saturation:Math.random(),lightness:Math.random()},a=["sad","happy","disgusted","angry","neutral","surprised","fearful"],t=a[Math.floor(Math.random()*a.length)],n=Math.random();var c=document.createElement("canvas");c.id="canvas-".concat(e),c.height=1024,c.width=1024,c.style.display="none",w["setup"](c);var l="sceneETexture-".concat(e);switch(w["project"].name=l,t){case"happy":Ee.onHappy(l,this.proceesed,n);break;case"neutral":Ee.onNeutral(l,this.proceesed,n);break;case"sad":Ee.onSad(l,this.proceesed,n);break;case"surprised":Ee.onSurprised(l,this.proceesed,n);break;case"fearful":Ee.onFear(l,this.proceesed,n);break;case"disgusted":Ee.onDisgusted(l,this.proceesed,n);break;default:Ee.onSad(l,this.proceesed,n);break}return c},createPaperInIndex:function(e,t){var n,a;this.proceesed={hue:Math.random(),saturation:Math.random(),lightness:Math.random()},n="sad",a="0.9";var s="indexTexture";switch(w["project"].name=s,n){case"happy":Ee.onHappy(s,this.proceesed);break;case"neutral":Ee.onNeutral(s,this.proceesed);break;case"sad":Ee.onSad(s,this.proceesed,a);break;case"surprised":Ee.onSurprised(s,this.proceesed);break;case"fear":Ee.onFear(s,this.proceesed,a);break;default:Ee.onSad(s,this.proceesed,a);break}},updatePaperInIndex:function(){var e,t,n;if(this.detections.length>0){this.proceesed=this.processColor([this.lastDetections]);var a=[],s=[];for(var o in this.slice(this.lastDetections))a.push(this.slice(this.lastDetections)[o][0]),s.push(this.slice(this.lastDetections)[o][1]);n=a;var i=Math.random()*n.length;e=n[Math.floor(i)],t=s[Math.floor(i)]}else this.proceesed={hue:Math.random(),saturation:Math.random(),lightness:Math.random()},n=["sad","happy","disgusted","angry","neutral","surprised","fearful"],e=n[Math.floor(Math.random()*n.length)],t=Math.random();var r="indexTexture";switch(e){case"happy":Ee.onHappy(r,this.proceesed,t);break;case"neutral":Ee.onNeutral(r,this.proceesed,t);break;case"sad":Ee.onSad(r,this.proceesed,t);break;case"surprised":Ee.onSurprised(r,this.proceesed,t);break;case"fearful":Ee.onFear(r,this.proceesed,t);break;case"disgusted":Ee.onDisgusted(r,this.proceesed,t);break;default:Ee.onSad(r,this.proceesed,t);break}},createNewTv:function(e){var t=this.createNewTextureD();this.tvTextures[this.tvIndex]=new se["Gb"](t),this.tvTextures[this.tvIndex].needsUpdate=!0,document.body.removeChild(t);var n=e.material.clone();n.map=this.tvTextures[this.tvIndex],n.emissiveMap=this.tvTextures[this.tvIndex],e.material=n,this.tvIndex++,50===this.tvTextures.length&&(this.tvTextures=[]),50===this.tvIndex&&(this.tvIndex=0)},createNewBox:function(){var e=this.mesh.clone();e.name="box".concat(this.boxIndex);var t=this.createNewTexture();this.dynamicTextures[this.boxIndex]=new se["Gb"](t),this.dynamicTextures[this.boxIndex].wrapT=this.dynamicTextures[this.boxIndex].wrapS=se["k"],this.dynamicTextures[this.boxIndex].needsUpdate=!0,this.sideImgSrc=t.toDataURL(),document.body.removeChild(t);var n=e.material.clone();n.map=this.dynamicTextures[this.boxIndex],n.emissiveMap=this.dynamicTextures[this.boxIndex],e.material=n,this.g.add(e),this.movingBox(e,this.boxIndex),this.boxesData.push(this.processColor(this.detections)),this.boxIndex++,18===this.dynamicTextures.length&&(this.dynamicTextures=[],this.boxesData=[]),18===this.boxIndex&&(this.boxIndex=0)},animate:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t++,requestAnimationFrame(this.animate),this.animateRun&&(ie["a"].update(t),this.showBarB&&this.boxTexture&&this.inSceneB&&(this.sceneBCube.rotation.z+=1/600,this.sceneBCube.rotation.y-=1/600,this.faceA.material.emissiveIntensity=Math.abs(3*Math.sin(t/600)),this.updateTowerTexture()),this.inSceneA&&this.mouse&&this.light.position.set(5+10*this.mouse.x,3.5,5+10*this.mouse.y),this.dotsIsUpdate&&this.dots.forEach((function(t){t.update(2*e.mouse.x,2*e.mouse.y)})),this.inSceneD&&this.lightDG&&this.cameraD&&(this.lightDG.position.x-=1,this.lightDG.position.x<-100&&(this.lightDG.position.x=100),this.cars.children.forEach((function(e,n){var a=1;n%2==0&&(a=-1),e.position.y=.01*Math.sin(t/100)*a,e.position.z=.01*Math.sin(t/100)*a})),this.dots2.forEach((function(t,n){t.update(),t.shouldRemove&&e.dots2.splice(n,1)}))),this.composer.render())},initTempSvg:function(){document.getElementById("svgTemp");var e=ee()("#svgTemp");function t(t){e.append(t),e.attr({preserveAspectRatio:"xMidYMax"}),this.tempLevel=e.select("#temp")}ee.a.load("models/tempNew.svg",t.bind(this))},initSceneCInputSvg:function(){var e=ee()("#svgMixing");function t(t){e.append(t),e.attr({width:480,preserveAspectRatio:"xMidYMax"}),this.sceneCInput=e.select("#level2")}ee.a.load("models/sc3Input.svg",t.bind(this))},initWeatherSvg:function(){this.currentWeatherImg&&this.currentWeatherImg.remove();var e=ee()("#svgWeather");function t(t){e.append(t);var n,a=this.weatherData.data.weather[0].main;switch(a){case"Rain":n=e.select("#rain");break;case"Clear":n=e.select("#clear");break;case"Mist":case"Fog":case"Haze":n=e.select("#mist");break;case"Clouds":n=e.select("#cloudy");break;case"Drizzle":n=e.select("#drizzle");break;default:n=e.select("#sun");break}this.currentWeatherImg=n,this.currentWeatherImg.attr({transform:"translate(-50,0)"}),e.append(this.currentWeatherImg)}ee.a.load("models/weatherCombined.svg",t.bind(this))},initWebAPISvg:function(){function e(e){this.webApiSvg.append(e),this.circleLine=this.webApiSvg.select("#circleLine");var t=this.circleLine.getTotalLength();this.circleLine.attr({fill:"none","stroke-dasharray":t+" "+t,"stroke-dashoffset":t})}this.webApiSvg=ee()("#svgWebAPI"),ee.a.load("models/webAPI.svg",e.bind(this))},getPosts:function(e){var t=this;this.axios.get("http://localhost:3000/api/twitter",{params:{content:e}}).then((function(e){var n=e.data["statuses"],a=[];for(var s in n)a.push(n[s].text);t.allPosts=a}))},getWeather:function(){var e=this;this.axios.get("https://api.openweathermap.org/data/2.5/weather?id=".concat(2643741,"&APPID=82161b512fc36f943b2cf28bf4f7df2a")).then((function(t){var n;e.weatherData=t;var a=parseFloat(t.data.main.temp-273.15);switch(!0){case a>26:n="hot";break;case a<26&&a>18:n="comfortable";break;case a<18&&a>10:n="cold";break;case a<10:n="freezing";break;default:n="warm"}Math.random()>.5?e.getPosts(t.data.weather[0].main):e.getPosts(n)}))},getTextAnalyzed:function(){var e=[];for(var t in this.allPosts.slice(0,10))e.push(this.allPosts[t]);var n=e.toString().replace(/[^a-z0-9]+/gi," "),a='{"texts":["'.concat(n,'"]}');$.ajax({type:"post",url:"https://api.indatalabs.com/v1/text?apikey=23dbe59e-1887-4b56-8349-426b5dbc187f&models=sentiment,interests,age_group",contentType:"application/json",dataType:"json",data:a,success:function(e){var t=e.response[0];this.analyzedText=t.sentiment}.bind(this)})},fakeData:function(){return[{dectection:"fakeData",expressions:{angry:Math.random(),disgusted:Math.random(),fearful:Math.random(),happy:Math.random(),neutral:Math.random(),sad:Math.random(),surprised:Math.random()}},{dectection:"fakeData",expressions:{angry:Math.random(),disgusted:Math.random(),fearful:Math.random(),happy:Math.random(),neutral:Math.random(),sad:Math.random(),surprised:Math.random()}},{dectection:"fakeData",expressions:{angry:Math.random(),disgusted:Math.random(),fearful:Math.random(),happy:Math.random(),neutral:Math.random(),sad:Math.random(),surprised:Math.random()}}]}},created:function(){w["install"](window)},watch:{"inViewport.now":function(e){this.isWatching=!!e}},mounted:function(){var e=this;this.loop&&clearInterval(this.loop),this.scrollController=new ScrollMagic.Controller;new ScrollMagic.Scene({triggerElement:"#trigger",duration:15e3}).setPin("#threeBoxContainer").addTo(this.scrollController).on("progress",function(e){this.pageProgress=e.progress,this.sceneBgc&&(this.scene.background=new se["m"]("hsl(".concat(180*Math.abs(Math.sin(this.sceneBgc.h+e.progress)),",5%,").concat(parseInt(30*e.progress+30),"%)")),this.sceneB.background=this.scene.background,this.sceneC.background=this.scene.background,this.sceneD.background=new se["m"]("hsl(".concat(180*Math.abs(Math.sin(this.sceneBgc.h+e.progress)),",5%,").concat(parseInt(50-Math.min(50,70*e.progress)),"%)")),this.sceneE.background=new se["m"]("hsl(".concat(180*Math.abs(Math.sin(this.sceneBgc.h+e.progress)),",5%,").concat(parseInt(Math.min(Math.max(0,500*[e.progress-.75]),50)),"%)")))}.bind(this)).on("enter",function(e){this.animateRun=!0}.bind(this)).on("leave",function(e){"REVERSE"==e.scrollDirection?this.showEmotion=!1:this.animateRun=!1}.bind(this));this.getWeather(),this.initWeatherSvg(),this.initPaperTexture(),this.initSceneCInputSvg(),this.initThree(),this.createGridIndex(),this.video=document.getElementById("video"),this.video.play(),navigator.mediaDevices.getUserMedia({video:{}}).then((function(t){return e.video.srcObject=t})).catch((function(e){return console.error(e)})),w["setup"](document.getElementById("indexCanvas")),this.createPaperInIndex("index",document.getElementById("indexCanvas")),setInterval((function(){e.loopOff&&e.updatePaperInIndex()}),1e4),this.initTempSvg(),this.initWebAPISvg(),this.activeDetection=setInterval((function(){e.userIsActive?(console.log("user is active"),e.autoHidden=!1):(console.log("user could have been left"),e.autoHidden=!0)}),1e4),this.userIsNotActive=setInterval((function(){e.userIsActive=!1}),5e3),window.addEventListener("mousemove",function(e){this.userIsActive=!0,this.autoHidden=!1}.bind(this)),window.addEventListener("scroll",function(e){this.userIsActive=!0,this.autoHidden=!1}.bind(this)),Promise.all([oe["c"].tinyFaceDetector.load("./models"),oe["c"].faceExpressionNet.load("./models"),this.audioBgc=new ae["Howl"]({src:["./models/wiredbgc.flac"]}),this.audioFlash=new ae["Howl"]({src:["./models/cameraWithFlash.wav"]}),this.audioDida=new ae["Howl"]({src:["./models/click.wav"]}),this.audioLightOn=new ae["Howl"]({src:["./models/lightOn.wav"]}),this.audioMachine=new ae["Howl"]({src:["./models/machine.wav"]}),this.audioPop=new ae["Howl"]({src:["./models/pop.wav"]}),this.audioPopB=new ae["Howl"]({src:["./models/popB.wav"]}),this.audioTrain=new ae["Howl"]({src:["./models/train.wav"],loop:!0,volume:.5})]).then((function(){e.audioFlash.loop=!1,e.audioTrain.loop=!0,e.audioTrain.autoplay=!1,e.audioMachine.volume(.5)})).then((function(){new ScrollMagic.Scene({triggerElement:"#triggerStartLighting",duration:1e3}).addTo(e.scrollController).on("progress",function(e){e.progress>.5&&e.progress<.7?this.sceneIntroA=!0:this.sceneIntroA=!1}.bind(e)).on("enter",function(e){this.animateRun=!0,this.inSceneA=!0,this.loopOff=!1,this.firstBegin?(this.firstBegin=!1,this.projectStart()):this.loopOff&&(this.loopOff=!1)}.bind(e)).on("leave",function(e){"REVERSE"===e.scrollDirection&&(this.loopOff=!0,this.animateRun=!1),this.updatePaperInIndex()}.bind(e))})).then(this.animate()),this.projectStart=function(){console.log("project started"),e.loopOff=!0,e.loop&&clearInterval(e.loop),!1===e.muted&&e.audioLightOn.play(),e.loop=setInterval(Object(Z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loopOff){t.next=21;break}if(!e.allowToUseCamera){t.next=7;break}return t.next=4,oe["b"](e.video,new oe["a"]({scoreThreshold:.5})).withFaceExpressions();case 4:n=t.sent,t.next=8;break;case 7:n=e.fakeData();case 8:if(!(n.length>0)){t.next=17;break}return e.detections=n,e.noFace=!1,e.takingPhoto=!0,t.next=14,setTimeout((function(){e.takingPhoto=!1}),1e3);case 14:e.cameraLoading||e.createNewBox(),t.next=20;break;case 17:e.noFace=!0,e.takingPhoto=!1,e.detections=null;case 20:e.cameraLoading=!1;case 21:e.lastDetections=e.detections[0];case 22:case"end":return t.stop()}}),t)}))),3e3),e.loopWeather=setInterval((function(){e.showBarB&&e.getWeather()}),1e4)}}},Ie=ke,Se=(n("288f"),Object(i["a"])(Ie,V,Q,!1,null,"09c99ee9",null)),Pe=Se.exports,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("PaperCanvas",{attrs:{showInput:"true",canvasID:"curCav3",inputType:"range",way:e.drawMethod.drawMountain,"in-viewport-once":!0}}),n("PaperCanvas",{attrs:{showInput:"true",canvasID:"curCav4",inputType:"range",way:e.drawMethod.drawMountain,"in-viewport-once":!0}}),n("PaperCanvas",{attrs:{showInput:"true",canvasID:"curCav5",inputType:"range",way:e.drawMethod.drawMountain,"in-viewport-once":!0}}),n("PaperCanvas",{attrs:{showInput:"true",canvasID:"curCav6",inputType:"range",way:e.drawMethod.drawMountain,"in-viewport-once":!0}}),n("PaperCanvas",{attrs:{showInput:"true",canvasID:"'largeCanvasGroup6",inputType:"range",way:e.drawMethod.drawMoreFlower,"in-viewport-once":!0}}),n("b-container",{attrs:{fluid:"",id:"drawing9"}},[n("b-row",e._l(3,(function(t){return n("b-col",{key:"canvas"+t},[n("PaperCanvas",{attrs:{showInput:"true",canvasID:"largeCanvasGroup3"+t,inputType:"range",way:e.drawMethod.drawFlower,"in-viewport-once":!0}})],1)})),1)],1)],1)},je=[],Oe={name:"GalleryOrganic",components:{PaperCanvas:H,Input:z},data:function(){return{drawActive:!1,drawMethod:I}},methods:{},created:function(){v.a.install(window)}},Ne=Oe,Ae=Object(i["a"])(Ne,De,je,!1,null,"224c5634",null),_e=Ae.exports,Re={name:"gallery",components:{GalleryGeo:Y,GalleryCAM:Pe,GalleryOrganic:_e},data:function(){return{drawActive:!1,link:["surface","factory","gallery"]}},methods:{}},ze=Re,Le=Object(i["a"])(ze,d,u,!1,null,null,null);Le.exports;a["default"].use(h["a"]);var Ge=new h["a"]({routes:[{path:"/",name:"Gallery",component:Pe}]}),Fe=n("bc3a"),He=n.n(Fe),We=n("a7fe"),Ue=n.n(We),Xe=n("5f5b");n("f9e3"),n("2dd8"),n("de82");a["default"].use(Ue.a,He.a),a["default"].use(Xe["a"]),a["default"].config.productionTip=!1,new a["default"]({router:Ge,render:function(e){return e(l)}}).$mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},"95e6":function(e,t){VignetteShader={uniforms:{tDiffuse:{value:null},offset:{value:1},darkness:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float offset;","uniform float darkness;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","vec2 uv = ( vUv - vec2( 0.5 ) ) * vec2( offset );","gl_FragColor = vec4( mix( texel.rgb, vec3( 1.0 - darkness ), dot( uv, uv ) ), texel.a );","}"].join("\n")}},b71a:function(e,t,n){},dda6:function(e,t,n){e.exports=n.p+"img/img1.f71c1a61.png"},de82:function(e,t,n){},e65c:function(e,t,n){},e7bb:function(e,t){(function(e){var t=e.noise={};function n(e,t,n){this.x=e,this.y=t,this.z=n}n.prototype.dot2=function(e,t){return this.x*e+this.y*t},n.prototype.dot3=function(e,t,n){return this.x*e+this.y*t+this.z*n};var a=[new n(1,1,0),new n(-1,1,0),new n(1,-1,0),new n(-1,-1,0),new n(1,0,1),new n(-1,0,1),new n(1,0,-1),new n(-1,0,-1),new n(0,1,1),new n(0,-1,1),new n(0,1,-1),new n(0,-1,-1)],s=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],o=new Array(512),i=new Array(512);t.seed=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var n;n=1&t?s[t]^255&e:s[t]^e>>8&255,o[t]=o[t+256]=n,i[t]=i[t+256]=a[n%12]}},t.seed(0);var r=.5*(Math.sqrt(3)-1),c=(3-Math.sqrt(3))/6,l=1/3,h=1/6;function d(e){return e*e*e*(e*(6*e-15)+10)}function u(e,t,n){return(1-n)*e+n*t}t.simplex2=function(e,t){var n,a,s,l,h,d=(e+t)*r,u=Math.floor(e+d),p=Math.floor(t+d),m=(u+p)*c,b=e-u+m,f=t-p+m;b>f?(l=1,h=0):(l=0,h=1);var w=b-l+c,v=f-h+c,g=b-1+2*c,C=f-1+2*c;u&=255,p&=255;var y=i[u+o[p]],x=i[u+l+o[p+h]],M=i[u+1+o[p+1]],B=.5-b*b-f*f;B<0?n=0:(B*=B,n=B*B*y.dot2(b,f));var T=.5-w*w-v*v;T<0?a=0:(T*=T,a=T*T*x.dot2(w,v));var E=.5-g*g-C*C;return E<0?s=0:(E*=E,s=E*E*M.dot2(g,C)),70*(n+a+s)},t.simplex3=function(e,t,n){var a,s,r,c,d,u,p,m,b,f,w=(e+t+n)*l,v=Math.floor(e+w),g=Math.floor(t+w),C=Math.floor(n+w),y=(v+g+C)*h,x=e-v+y,M=t-g+y,B=n-C+y;x>=M?M>=B?(d=1,u=0,p=0,m=1,b=1,f=0):x>=B?(d=1,u=0,p=0,m=1,b=0,f=1):(d=0,u=0,p=1,m=1,b=0,f=1):M<B?(d=0,u=0,p=1,m=0,b=1,f=1):x<B?(d=0,u=1,p=0,m=0,b=1,f=1):(d=0,u=1,p=0,m=1,b=1,f=0);var T=x-d+h,E=M-u+h,k=B-p+h,I=x-m+2*h,S=M-b+2*h,P=B-f+2*h,D=x-1+3*h,j=M-1+3*h,O=B-1+3*h;v&=255,g&=255,C&=255;var N=i[v+o[g+o[C]]],A=i[v+d+o[g+u+o[C+p]]],_=i[v+m+o[g+b+o[C+f]]],R=i[v+1+o[g+1+o[C+1]]],z=.6-x*x-M*M-B*B;z<0?a=0:(z*=z,a=z*z*N.dot3(x,M,B));var L=.6-T*T-E*E-k*k;L<0?s=0:(L*=L,s=L*L*A.dot3(T,E,k));var G=.6-I*I-S*S-P*P;G<0?r=0:(G*=G,r=G*G*_.dot3(I,S,P));var F=.6-D*D-j*j-O*O;return F<0?c=0:(F*=F,c=F*F*R.dot3(D,j,O)),32*(a+s+r+c)},t.perlin2=function(e,t){var n=Math.floor(e),a=Math.floor(t);e-=n,t-=a,n&=255,a&=255;var s=i[n+o[a]].dot2(e,t),r=i[n+o[a+1]].dot2(e,t-1),c=i[n+1+o[a]].dot2(e-1,t),l=i[n+1+o[a+1]].dot2(e-1,t-1),h=d(e);return u(u(s,c,h),u(r,l,h),d(t))},t.perlin3=function(e,t,n){var a=Math.floor(e),s=Math.floor(t),r=Math.floor(n);e-=a,t-=s,n-=r,a&=255,s&=255,r&=255;var c=i[a+o[s+o[r]]].dot3(e,t,n),l=i[a+o[s+o[r+1]]].dot3(e,t,n-1),h=i[a+o[s+1+o[r]]].dot3(e,t-1,n),p=i[a+o[s+1+o[r+1]]].dot3(e,t-1,n-1),m=i[a+1+o[s+o[r]]].dot3(e-1,t,n),b=i[a+1+o[s+o[r+1]]].dot3(e-1,t,n-1),f=i[a+1+o[s+1+o[r]]].dot3(e-1,t-1,n),w=i[a+1+o[s+1+o[r+1]]].dot3(e-1,t-1,n-1),v=d(e),g=d(t),C=d(n);return u(u(u(c,m,v),u(l,b,v),C),u(u(h,f,v),u(p,w,v),C),g)}})(this)}});
//# sourceMappingURL=app.1963e53e.js.map